import{_ as Me,a as We,b as Ye,V as ce,u as nt,c as at,d as it,p as lt,e as st,f as ot,g as ut,h as rt,i as dt,j as mt,k as ct,l as vt,m as ft,n as bt,o as Ct,q as pt,r as Bt,s as gt,t as yt}from"./StakeholdersComponent-BayyLidV.js";import{U as re,_ as pe,G as $e,j as N,I as V,o as b,W as G,N as T,O as U,b as t,w as n,P as R,a as w,X as ve,g as f,t as E,v as B,z as Ee,Y as Ce,x as Q,y as q,F as Oe,r as h,T as we,Z as Dt,S as I,K as ne,R as fe,$ as At,a0 as de,p as Ne,a1 as Te,h as Re,u as kt,m as St,q as ht,M as Vt,a2 as Ft,A as Pt,a3 as je,a4 as Qe,a5 as xt,a6 as Et,a7 as wt,a8 as _t,a9 as It,aa as Mt,ab as $t,ac as Ot,H as Y,ad as Nt,d as $,L as j,Q as me,ae as Rt,af as Tt,ag as Ut}from"./index-BjhXf6PQ.js";import{V as Fe}from"./vue-draggable-next.esm-bundler-CZyX6F1m.js";import{b as J,a as _,f as be,c as H,V as O,d as ae,g as Gt}from"./VCard-DZx5bLbS.js";import{_ as Ue}from"./lodash-CnCsj6rY.js";class Lt{testDir(){return re.get("/server/testdir")}createSDF(l,a){return console.log("SDF creation: "+JSON.stringify(a)),re.put(`/server/createSDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}createPDF(l,a){return console.log("PDF creation: "+JSON.stringify(a)),re.put(`/server/createPDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}mergePDF(l,a){return console.log("PDF merging: "+JSON.stringify(a)),re.put(`/server/mergePDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}}const Pe=new Lt,Ht={key:0},Jt={key:1},Kt={__name:"PriorityMenuComponent",props:{submittalProp:{},color:{type:String,default:"cyan-darken-4"},showLabel:{type:Boolean,default:!1}},setup(e){const l=e,a=$e(),o=c=>{a.updateSubmittalPriorities(c)},r=N(()=>{var c=[];return a.projects.forEach(v=>{v.prioritySubmittals.findIndex(d=>d.submittal._id===l.submittalProp._id)!=-1&&c.push(v)}),c}),m=N(()=>{var c=[];return a.projects.forEach(v=>{v.unrankedSubmittals.findIndex(d=>d.submittal._id===l.submittalProp._id)!=-1&&c.push(v)}),c});return(c,v)=>(b(),V("div",null,[Array.isArray(r.value)&&r.value.length||Array.isArray(m.value)&&m.value.length?e.showLabel?(b(),V("div",Jt,"Priority")):G("",!0):(b(),V("div",Ht,"Not assigned to project")),(b(!0),V(T,null,U(r.value,d=>(b(),V("span",{key:d._id},[t(Ce,{"offset-y":""},{activator:n(({props:s})=>[t(B,Ee({class:"ma-2",ref_for:!0},s),{default:n(()=>[f(E(d.name)+" - "+E(d.prioritySubmittals.findIndex(C=>C.submittal._id===e.submittalProp._id)+1),1)]),_:2},1040)]),default:n(()=>[t(J,null,{default:n(()=>[t(R(Fe),{modelValue:d.prioritySubmittals,"onUpdate:modelValue":s=>d.prioritySubmittals=s,group:d.name+"Submittals",draggable:".item",handle:".handle",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(b(!0),V(T,null,U(d.prioritySubmittals,(s,C)=>(b(),w(_,{key:s.submittal._id,class:ve(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[f(E(C+1)+". "+E(s.submittal.submittalID),1)]),_:2},1032,["class"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024)]),_:2},1024)]))),128)),(b(!0),V(T,null,U(m.value,d=>(b(),V("span",{key:d._id},[t(Ce,{"offset-y":""},{activator:n(({props:s})=>[t(B,Ee({class:"ma-2",ref_for:!0},s),{default:n(()=>[f(E(d.name)+" - Unranked ",1)]),_:2},1040)]),default:n(()=>[t(J,null,{default:n(()=>[t(R(Fe),{modelValue:d.prioritySubmittals,"onUpdate:modelValue":s=>d.prioritySubmittals=s,group:d.name+"Submittals",draggable:".draggable-item",handle:".handle",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(b(!0),V(T,null,U(d.prioritySubmittals,(s,C)=>(b(),w(_,{key:s.submittal._id,class:ve(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[f(E(C+1)+". "+E(s.submittal.submittalID),1)]),_:2},1032,["class"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024),t(J,null,{default:n(()=>[t(R(Fe),{modelValue:d.unrankedSubmittals,"onUpdate:modelValue":s=>d.unrankedSubmittals=s,group:d.name+"Submittals",draggable:".draggable-item",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(b(!0),V(T,null,U(d.unrankedSubmittals,s=>Q((b(),w(_,{key:s.submittal.submittalID,class:ve(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[f(E(s.submittal.submittalID),1)]),_:2},1032,["class"])),[[q,s.submittal._id===e.submittalProp._id]])),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024)]),_:2},1024)]))),128))]))}},qe=pe(Kt,[["__scopeId","data-v-4b97a0c0"]]),zt={__name:"SubmittalComponent",props:{submittal:{},color:{type:String,default:function(){return"cyan"}}},setup(e){const l=Oe();$e();const a=h(!1);h(!1);const o=d=>{l.updateSubmittal(d)},r=(d,s)=>{l.submittals.find(C=>C._id===filteredSubmittals.value[s]._id).violations.push(d)},m=d=>{Pe.createSDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})},c=d=>{Pe.createPDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})},v=d=>{Pe.mergePDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})};return(d,s)=>{const C=qe,F=Me,g=We,D=Ye;return b(),V("div",null,[t(J,{class:"rounded-t-xl"},{default:n(()=>[t(we,{color:e.color},{default:n(()=>[t(Dt,{text:e.submittal.submittalID},null,8,["text"]),t(B,{icon:"",onClick:s[0]||(s[0]=y=>a.value=!a.value)},{default:n(()=>[t(I,{class:ve(["toggleUpDown",{rotate:!a.value}])},{default:n(()=>s[11]||(s[11]=[f("mdi-chevron-up")])),_:1},8,["class"])]),_:1})]),_:1},8,["color"]),t(be,null,{default:n(()=>[t(ne,{modelValue:e.submittal.description,"onUpdate:modelValue":s[1]||(s[1]=y=>e.submittal.description=y),modelModifiers:{lazy:!0},label:"Description"},null,8,["modelValue"]),t(H,{class:"pa-0 ma-0"},{default:n(()=>[t(O,null,{default:n(()=>[t(_,null,{default:n(()=>[t(ne,{modelValue:e.submittal.owner,"onUpdate:modelValue":s[2]||(s[2]=y=>e.submittal.owner=y),modelModifiers:{lazy:!0},label:"Owner","min-width":"200"},null,8,["modelValue"]),t(C,{submittalProp:e.submittal,color:e.color,showLabel:!0},null,8,["submittalProp","color"])]),_:1}),t(_,null,{default:n(()=>[t(F,{dateProp:e.submittal.receivedDate,labelProp:"Received Date",iconProp:"mdi-calendar-today",onUpdateDate:s[3]||(s[3]=y=>e.submittal.receivedDate=y)},null,8,["dateProp"]),t(F,{dateProp:e.submittal.needDate,labelProp:"Need Date",iconProp:"mdi-calendar-clock",onUpdateDate:s[4]||(s[4]=y=>e.submittal.needDate=y)},null,8,["dateProp"]),t(F,{dateProp:e.submittal.dispositionDate,labelProp:"Disposition Date",iconProp:"mdi-calendar-check",onUpdateDate:s[5]||(s[5]=y=>e.submittal.dispositionDate=y)},null,8,["dateProp"])]),_:1})]),_:1})]),_:1})]),_:1}),a.value?(b(),w(J,{key:0,class:"py-1"},{default:n(()=>[t(ae,{class:"pa-2"},{default:n(()=>s[12]||(s[12]=[f("Stakeholders")])),_:1}),t(be,null,{default:n(()=>[t(g,{stakeholders:e.submittal.stakeholders},null,8,["stakeholders"])]),_:1})]),_:1})):G("",!0),a.value?(b(),w(J,{key:1,class:"py-1"},{default:n(()=>[t(ae,{class:"pa-2"},{default:n(()=>[t(D,{violations:e.submittal.violations},null,8,["violations"])]),_:1}),t(be,null,{default:n(()=>[t(D,{violations:e.submittal.violations,onAddViolation:s[6]||(s[6]=y=>r(y,d.index))},null,8,["violations"])]),_:1})]),_:1})):G("",!0),t(Gt,{class:"grey darken-4"},{default:n(()=>[t(fe),t(B,{icon:"",onClick:s[7]||(s[7]=y=>o(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[13]||(s[13]=[f("mdi-content-save-edit")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[8]||(s[8]=y=>m(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[14]||(s[14]=[f("mdi-archive-plus")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[9]||(s[9]=y=>c(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[15]||(s[15]=[f("mdi-file-pdf-box")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[10]||(s[10]=y=>v(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[16]||(s[16]=[f("mdi-vector-combine")])),_:1})]),_:1})]),_:1})]),_:1})])}}},Wt=pe(zt,[["__scopeId","data-v-4e870d42"]]),Yt={__name:"SubmittalSearchComponent",setup(e){const l=Oe();h(!0);const a=h([{id:Math.random()*1e4,key:"",value:"",andOr:"and",operator:"$eq"}]),o=[{text:"Submittal ID",value:{name:"submittalID",type:"String"}},{text:"Submittal description",value:{name:"description",type:"String"}},{text:"Submittal need date",value:{name:"needDate",type:"Date"}},{text:"Submittal received date",value:{name:"receivedDate",type:"Date"}},{text:"Submittal disposition date",value:{name:"dispositionDate",type:"Date"}},{text:"Submittal owner",value:{name:"owner",type:"String"}},{text:"Violation category",value:{name:"violations.category",type:"String"}},{text:"Violation limit",value:{name:"violations.limit",type:"Number"}},{text:"Violation actual",value:{name:"violations.actual",type:"Number"}},{text:"Violation reference",value:{name:"violations.reference",type:"String"}}],r=[{text:"=",value:"$eq"},{text:">",value:"$gt"},{text:">=",value:"$gte"},{text:"<",value:"$lt"},{text:"<=",value:"$lte"},{text:"!=",value:"$ne"}],m=N(()=>a.value.length==0||a.value[a.value.length-1].value!=""),c=()=>{m.value&&a.value.push({id:Math.random()*1e4,key:"",value:"",andOr:"and",operator:"$eq"}),console.log(JSON.stringify(a))},v=s=>{a.value.splice(s,1)},d=()=>{console.log("Search: "+JSON.stringify(a.value)),l.getDynamicQuery(a.value)};return(s,C)=>{const F=Me;return b(),V("div",null,[t(J,null,{default:n(()=>[t(ae,{class:"pink pa-1 ma-0"},{default:n(()=>[t(I,{"x-large":"",color:"pink lighten-4"},{default:n(()=>C[0]||(C[0]=[f("mdi-magnify")])),_:1}),C[1]||(C[1]=f(" Submittal Query "))]),_:1}),t(be,null,{default:n(()=>[t(H,{fluid:""},{default:n(()=>[t(O,null,{default:n(()=>[t(_,null,{default:n(()=>[t(H,{fluid:""},{default:n(()=>[(b(!0),V(T,null,U(a.value,g=>(b(),w(O,{key:g.id,"no-gutters":""},{default:n(()=>[t(_,null,{default:n(()=>[t(ce,{modelValue:g.andOr,"onUpdate:modelValue":D=>g.andOr=D,items:["and","or"],class:"fit pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(_,null,{default:n(()=>[t(ce,{modelValue:g.operator,"onUpdate:modelValue":D=>g.operator=D,"item-title":"text","item-value":"value",items:r,class:"fit pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(_,{cols:"4"},{default:n(()=>[t(ce,{modelValue:g.key,"onUpdate:modelValue":D=>g.key=D,label:"Search field","item-title":"text","item-value":"value",items:o,class:"pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(_,{cols:"4"},{default:n(()=>[Q(t(ne,{modelValue:g.value,"onUpdate:modelValue":D=>g.value=D,label:"Value",class:"pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"]),[[q,g.key.type!="Date"]]),Q(t(F,{dateProp:g.value,labelProp:"Value",iconProp:"mdi-calendar",onUpdateDate:D=>g.value=D},null,8,["dateProp","onUpdateDate"]),[[q,g.key.type=="Date"]])]),_:2},1024),t(_,null,{default:n(()=>[t(B,{onClick:D=>v(a.value.indexOf(g))},{default:n(()=>[t(I,null,{default:n(()=>C[2]||(C[2]=[f("mdi-minus")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),t(O,null,{default:n(()=>[t(B,{class:"ma-2",onClick:c},{default:n(()=>C[3]||(C[3]=[f("Add field")])),_:1}),Q(t(B,{class:"ma-2 green darken-1",onClick:d},{default:n(()=>C[4]||(C[4]=[f("Search!")])),_:1},512),[[q,m.value]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},jt=pe(Yt,[["__scopeId","data-v-e0fa0daa"]]);var Qt="[object Symbol]",Ze=/[\\^$.*+?()[\]{}|]/g,qt=RegExp(Ze.source),Zt=typeof de=="object"&&de&&de.Object===Object&&de,Xt=typeof self=="object"&&self&&self.Object===Object&&self,en=Zt||Xt||Function("return this")(),tn=Object.prototype,nn=tn.toString,Ge=en.Symbol,Le=Ge?Ge.prototype:void 0,He=Le?Le.toString:void 0;function an(e){if(typeof e=="string")return e;if(sn(e))return He?He.call(e):"";var l=e+"";return l=="0"&&1/e==-1/0?"-0":l}function ln(e){return!!e&&typeof e=="object"}function sn(e){return typeof e=="symbol"||ln(e)&&nn.call(e)==Qt}function on(e){return e==null?"":an(e)}function un(e){return e=on(e),e&&qt.test(e)?e.replace(Ze,"\\$&"):e}var rn=un;const K=At(rn);function dn(e,l){return typeof e=="string"?l.checkString(e):typeof e=="number"?l.checkNumber(e):!1}function _e(e,l,a,o){if(typeof e=="object")if(Array.isArray(e)){for(const r of e)if(_e(r,l,a,o))return!0}else for(const r in e){a.push(r);const m=_e(e[r],l,a,o);if(a.pop(),m)return!0}else{if(l.type==="exists")return l.key.test(a.join("."))?!!e:!1;{const r=a.join(".");for(const m of o.ignorePaths)if(m.test(r))return!1;if(o.includePaths){let m=!1;for(const c of o.includePaths)if(c.test(r)){m=!0;break}if(!m)return!1}return l.key&&!l.key.test(r)?!1:dn(e,l)}}return!1}function Je(e,l,a,o){if(l.length){let r=!1;for(const m of l)if(_e(e,m,[],o)?!m.negate:m.negate){if(a==="OR")return!0;r=!0}else if(a==="AND")return!1;return r}return!0}function Ie(e,l){const a=[];let o=!1,r=0,m="";for(let c=0;c<e.length;c++){const v=e[c];o?v===m&&(o=!1,m=""):v==='"'||v==="'"?(o=!0,m=v):v.match(l)&&!o&&(a.push(e.slice(r,c).trim()),r=c+1),c===e.length-1&&a.push(e.slice(r).trim())}return a.map(c=>c.startsWith('"')&&c.endsWith('"')||c.startsWith("'")&&c.endsWith("'")?c.slice(1,-1):c).filter(c=>c)}const mn={"<":function(l){const a=Number(l[0]);return o=>o<a},"<=":function(l){const a=Number(l[0]);return o=>o<=a},"=":function(l){const a=l[0].split(",").filter(o=>o).map(Number);return o=>{for(let r=0;r<a.length;r++)if(o===a[r])return!0;return!1}},">=":function(l){const a=Number(l[0]);return o=>o>=a},">":function(l){const a=Number(l[0]);return o=>o>a},"..":function(l){const a=Number(l[0]),o=Number(l[1]);return r=>r>=a&&r<=o}};function Ke(e){const{values:l,operator:a}=cn(e),o=mn[a];if(!o)throw new Error(`unknown operator ${a}`);return o(l)}function cn(e){const l=/^\s*\(?\s*(?<startOperator><=|>=|<|=|>|\.\.\s*)?\s*(?<firstValue>-?\d*\.?\d+)\s*(?:(?<afterDots>\.\.)\s*(?<secondValue>-?\d*\.?\d*))?\s*\)?\s*$/.exec(e);if(!l)return{operator:"=",values:[e]};if(!l.groups)throw new Error("unreachable");const{startOperator:a,firstValue:o,afterDots:r,secondValue:m}=l.groups;let c=a,v=o?[o]:[];return a===".."?c="<=":!a&&r&&!m?c=">=":r&&(c=".."),m&&v.push(m),{values:v,operator:c||"="}}const vn={"<":function(l){return a=>a<l[0]},"<=":function(l){return a=>a<=l[0]},"=":function(l,a){const o=Ie(l[0],",").filter(r=>r).map(r=>new RegExp(`^${K(r)}$`,a));return r=>{for(const m of o)if(m.test(r))return!0;return!1}},"~":function(l,a){const o=Ie(l[0],",").filter(r=>r).map(r=>new RegExp(K(r),a));return r=>{for(const m of o)if(m.test(r))return!0;return!1}},">=":function(l){return a=>a>=l[0]},">":function(l){return a=>a>l[0]},"..":function(l){return a=>a>=l[0]&&a<=l[1]}};function ze(e,l){const{values:a,operator:o}=fn(e),r=vn[o];if(!r)throw new Error(`unreachable unknown operator ${o}`);return r(a,l)}function fn(e){var v;const l=e.split(".."),a=/^\s*\(?(?<operator><=|<|=|>=|>)?\s*(?<value>\S*)\s*\)?$/.exec(l[0]);if(!a)return{operator:"~",values:[e]};if(!a.groups)throw new Error("unreachable");let{operator:o,value:r}=a.groups,m=(v=l[1])==null?void 0:v.trim(),c=[r];return l.length>1&&(o="..",m?r?c.push(m):(c=[m],o="<="):o=">="),{operator:o||"~",values:c}}function bn(e,l={pathAlias:{}}){const{caseSensitive:a,pathAlias:o}=l,r=a?"":"i";let m=!1;e.startsWith("-")&&(m=!0,e=e.substring(1));const c=e.indexOf(":");if(c>-1){const v=e.substring(c+1);if(c>0){const d=e.substring(0,c);return d==="is"?{type:"exists",negate:m,key:new RegExp(`(^|\\.)${K(v)}(\\.|$)`,r)}:{type:"matches",negate:m,key:o[d]?o[d]:new RegExp(`(^|\\.)${K(d)}(\\.|$)`,r),checkNumber:Ke(v),checkString:ze(v,r)}}}return{type:"matches",negate:m,checkNumber:Ke(e),checkString:ze(e,r)}}function Cn(e,l={pathAlias:{}}){return e.map(a=>bn(a,l))}function pn(e,l){const{insensitive:a}=l,o={};for(const[r,m]of Object.entries(e))m instanceof RegExp?o[r]=m:o[r]=new RegExp(`(^|\\.)${K(m)}(\\.|$)`,a);return o}function xe(e,l={}){let{index:a=!1,predicate:o="AND",ignorePaths:r=[],includePaths:m,pathAlias:c={}}=l;const v=l.limit?l.limit:1/0,d=l.caseSensitive?"":"i";let s=l.keywords||[];const C=pn(c,{insensitive:d}),F=r.map(P=>typeof P=="string"?new RegExp(`(^|\\.)${K(P)}(\\.|$)`,d):P),g=m?m.map(P=>typeof P=="string"?new RegExp(`(^|\\.)${K(P)}(\\.|$)`,d):P):void 0;typeof s=="string"&&(s=Ie(s,/[ \t\r\n]/));const D=Cn(s,{caseSensitive:l.caseSensitive,pathAlias:C});let y=0;if(a){const P=[];for(let M=0;M<e.length&&y<v;M++)Je(e[M],D,o,{ignorePaths:F,includePaths:g})&&(y=P.push(M));return P}else{const P=[];for(let M=0;M<e.length&&y<v;M++)Je(e[M],D,o,{ignorePaths:F,includePaths:g})&&(y=P.push(e[M]));return P}}const Bn=Ne({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function gn(e,l){const a=e.returnObject?l:Te(l,e.itemValue),o=Te(l,e.itemSelectable,!0);return{type:"item",value:a,selectable:o,raw:l}}function yn(e,l){const a=[];for(const o of l)a.push(gn(e,o));return a}function Dn(e){return{items:N(()=>yn(e,e.items))}}const An=Ne({search:String,loading:Boolean,...Qe(),...Bn(),...gt(),...Bt(),...pt({itemsPerPage:5}),...Ct(),...bt(),...ft(),...je(),...Pt({transition:{component:xt,hideOnLeave:!0}})},"VDataIterator"),kn=Re()({name:"VDataIterator",props:An(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{slots:a}=l;const o=kt(e,"groupBy"),r=St(e,"search"),{items:m}=Dn(e),{filteredItems:c}=nt(e,m,r,{transform:i=>i.raw}),{sortBy:v,multiSort:d,mustSort:s}=at(e),{page:C,itemsPerPage:F}=it(e),{toggleSort:g}=vt({sortBy:v,multiSort:d,mustSort:s,page:C}),{sortByWithGroups:D,opened:y,extractRows:P,isGroupOpen:M,toggleGroup:Be}=lt({groupBy:o,sortBy:v}),{sortedItems:ge}=st(e,c,D,{transform:i=>i.raw}),{flatItems:ie}=ot(ge,o,y),ye=N(()=>ie.value.length),{startIndex:Z,stopIndex:le,pageCount:L,prevPage:De,nextPage:Ae,setItemsPerPage:ke,setPage:Se}=ut({page:C,itemsPerPage:F,itemsLength:ye}),{paginatedItems:X}=rt({items:ie,startIndex:Z,stopIndex:le,itemsPerPage:F}),ee=N(()=>P(X.value)),{isSelected:z,select:te,selectAll:se,toggleSelect:W}=dt(e,{allItems:m,currentPage:ee}),{isExpanded:oe,toggleExpand:he}=mt(e);ct({page:C,itemsPerPage:F,sortBy:v,groupBy:o,search:r});const p=N(()=>({page:C.value,itemsPerPage:F.value,sortBy:v.value,pageCount:L.value,toggleSort:g,prevPage:De,nextPage:Ae,setPage:Se,setItemsPerPage:ke,isSelected:z,select:te,selectAll:se,toggleSelect:W,isExpanded:oe,toggleExpand:he,isGroupOpen:M,toggleGroup:Be,items:ee.value,groupedItems:X.value}));return ht(()=>t(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var i,k;return[(i=a.header)==null?void 0:i.call(a,p.value),t(Vt,{transition:e.transition},{default:()=>{var S,x;return[e.loading?t(Ft,{key:"loader",name:"v-data-iterator",active:!0},{default:Ve=>{var ue;return(ue=a.loader)==null?void 0:ue.call(a,Ve)}}):t("div",{key:"items"},[X.value.length?(x=a.default)==null?void 0:x.call(a,p.value):(S=a["no-data"])==null?void 0:S.call(a)])]}}),(k=a.footer)==null?void 0:k.call(a,p.value)]}})),{}}}),Xe=Symbol.for("vuetify:v-item-group"),Sn=Ne({...Qe(),...It({selectedClass:"v-item--selected"}),...je(),..._t()},"VItemGroup"),hn=Re()({name:"VItemGroup",props:Sn(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{themeClasses:o}=Et(e),{isSelected:r,select:m,next:c,prev:v,selected:d}=wt(e,Xe);return()=>t(e.tag,{class:["v-item-group",o.value,e.class],style:e.style},{default:()=>{var s;return[(s=a.default)==null?void 0:s.call(a,{isSelected:r,select:m,next:c,prev:v,selected:d.value})]}})}}),Vn=Re()({name:"VItem",props:Mt(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const{isSelected:o,select:r,toggle:m,selectedClass:c,value:v,disabled:d}=$t(e,Xe);return()=>{var s;return(s=a.default)==null?void 0:s.call(a,{isSelected:o.value,selectedClass:c.value,select:r,toggle:m,value:v.value,disabled:d.value})}}}),Fn={class:"pa-1"},Pn={class:"pa-1"},xn={class:"d-flex"},En={class:"pa-1"},wn={class:"pa-1"},_n={class:"pa-1"},In={class:"mr-4 grey--text"},Mn=["colspan"],$n={style:{"user-select":"none"}},On={__name:"SubmittalsComponent",setup(e){const l=Oe(),a=$e(),o=Ot(),r=h(null),m=h(Y().format("YYYY-MM-DD").toString()),c=[5,10,20,100],v=h(""),d=h([]),s=h({peerReviewNeeded:null,nrInformed:null,owner:[],open:null}),C=h(["A","B","C","D"]),F=h(!1),g=h(1),D=h(10),y=[{key:h("submittalID"),order:"asc"}],P=[{text:"Submittal ID",value:"submittalID"},{text:"Need Date",value:"needDate"},{text:"Owner",value:"owner"}],M=h([]);h(!1);const Be=p=>p.length<=200||"Input too long!";h({});const ge=[{title:"Submittal",align:"start",key:"submittalID",width:"180px"},{title:"Description",key:"description",width:"40%"},{title:"Received Date",key:"receivedDate",width:"205px"},{title:"Need Date",key:"needDate",width:"205px"},{title:"Disposition Date",key:"dispositionDate",width:"205px"},{title:"Priority",key:"priority"},{title:"Owner",key:"owner"},{title:"",key:"save",width:"1px",sortable:!1},{title:"",key:"data-table-expand",width:"1px"}],ie=["AA","BB","FF","DD","EE","CC"],ye=[{name:"Shirley Clemas",unit:"BB",subdivision:"BBB"},{name:"Aubrey Meenehan",unit:"FF"},{name:"Nikolia Dulson",unit:"AA",subdivision:"AAA"},{name:"Claretta Enns",unit:"DD",subdivision:"CCC"},{name:"Ninnetta Kamiyama",unit:"AA",subdivision:"AAA"},{name:"Brenna Pettet",unit:"DD",subdivision:"CCC"},{name:"Clementina Burnham",unit:"BB",subdivision:"BBB"},{name:"Shara Willeson",unit:"DD",subdivision:"CCC"},{name:"Salome Bernardo",unit:"DD",subdivision:"CCC"},{name:"Conrade Dines",unit:"DD",subdivision:"CCC"},{name:"Marillin Foister",unit:"EE",subdivision:"CCC"},{name:"Maggee Silvester",unit:"FF"},{name:"Chery Barhims",unit:"DD",subdivision:"CCC"},{name:"Spence Grishinov",unit:"CC",subdivision:"BBB"},{name:"Dulciana Saberton",unit:"AA",subdivision:"AAA"},{name:"Valina Cleaver",unit:"FF"},{name:"Kenna Hadgkiss",unit:"AA",subdivision:"AAA"},{name:"Shay Rennie",unit:"FF"},{name:"Colin Van der Beek",unit:"EE",subdivision:"CCC"},{name:"Westbrook Rumens",unit:"CC",subdivision:"BBB"},{name:"Renee Schwanden",unit:"FF"},{name:"Euphemia Ciraldo",unit:"EE",subdivision:"CCC"},{name:"Michel Mewett",unit:"FF"},{name:"Aymer Aland",unit:"FF"},{name:"Dennison Corbould",unit:"EE",subdivision:"CCC"},{name:"Christoffer Kryska",unit:"BB",subdivision:"BBB"},{name:"Odo Dykins",unit:"CC",subdivision:"BBB"},{name:"Maurizio Wrates",unit:"DD",subdivision:"CCC"},{name:"Leia Swinburn",unit:"BB",subdivision:"BBB"},{name:"Noam Ewbanck",unit:"DD",subdivision:"CCC"},{name:"Carmine Stuther",unit:"CC",subdivision:"BBB"},{name:"Caesar Jeppensen",unit:"CC",subdivision:"BBB"},{name:"Phillipe Huckle",unit:"CC",subdivision:"BBB"},{name:"Edi Rentelll",unit:"CC",subdivision:"BBB"},{name:"Audi Moughtin",unit:"EE",subdivision:"CCC"},{name:"Gwenora Peascod",unit:"AA",subdivision:"AAA"},{name:"Rockey Colam",unit:"EE",subdivision:"CCC"},{name:"Margie Truggian",unit:"AA",subdivision:"AAA"},{name:"Frederica Siney",unit:"FF"},{name:"Cary Lindwasser",unit:"DD",subdivision:"CCC"},{name:"Robinet Pettiward",unit:"DD",subdivision:"CCC"},{name:"Durand Godspede",unit:"AA",subdivision:"AAA"},{name:"Tommie Dunmuir",unit:"DD",subdivision:"CCC"},{name:"Raimundo Rylatt",unit:"EE",subdivision:"CCC"},{name:"Verney McKechnie",unit:"AA",subdivision:"AAA"},{name:"Ray Binding",unit:"BB",subdivision:"BBB"},{name:"Valery Vedishchev",unit:"FF"},{name:"Trevar Faber",unit:"AA",subdivision:"AAA"},{name:"Allyce O'Giany",unit:"DD",subdivision:"CCC"},{name:"Armstrong Androlli",unit:"FF"},{name:"Kingsly Clymo",unit:"EE",subdivision:"CCC"},{name:"Chris Simister",unit:"CC",subdivision:"BBB"},{name:"Sloan Breagan",unit:"FF"},{name:"Valentina Alston",unit:"CC",subdivision:"BBB"},{name:"Shae Hadfield",unit:"FF"},{name:"Gardie Latta",unit:"CC",subdivision:"BBB"},{name:"Kermit Odney",unit:"BB",subdivision:"BBB"},{name:"Vina Cowpertwait",unit:"BB",subdivision:"BBB"},{name:"Tirrell Nanninini",unit:"BB",subdivision:"BBB"},{name:"Taylor Bench",unit:"FF"},{name:"Cornela Philson",unit:"AA",subdivision:"AAA"},{name:"Rutger Vesque",unit:"CC",subdivision:"BBB"},{name:"Deane Mityakov",unit:"CC",subdivision:"BBB"},{name:"Alexander Bradwell",unit:"EE",subdivision:"CCC"},{name:"Padget Alsobrook",unit:"EE",subdivision:"CCC"},{name:"Gaynor Steart",unit:"EE",subdivision:"CCC"},{name:"Findley Laba",unit:"CC",subdivision:"BBB"},{name:"Benedikt Gothliff",unit:"CC",subdivision:"BBB"},{name:"Fernandina Alcoran",unit:"CC",subdivision:"BBB"},{name:"Stearn Cahalan",unit:"DD",subdivision:"CCC"},{name:"Felicio Rubinfeld",unit:"BB",subdivision:"BBB"},{name:"Remus Alderson",unit:"FF"},{name:"Carrol Kohen",unit:"CC",subdivision:"BBB"},{name:"Jud McParland",unit:"DD",subdivision:"CCC"},{name:"Moore Casetta",unit:"DD",subdivision:"CCC"},{name:"Aileen Cartner",unit:"EE",subdivision:"CCC"},{name:"Lisbeth Melledy",unit:"CC",subdivision:"BBB"},{name:"Andra Kubiak",unit:"EE",subdivision:"CCC"},{name:"Tony Aggs",unit:"CC",subdivision:"BBB"},{name:"Erma Pennycock",unit:"CC",subdivision:"BBB"},{name:"Ailis Sutterby",unit:"CC",subdivision:"BBB"},{name:"Krissy Hayhoe",unit:"DD",subdivision:"CCC"},{name:"Cecil Jarmain",unit:"BB",subdivision:"BBB"},{name:"Datha Gooda",unit:"BB",subdivision:"BBB"},{name:"Donna Dukes",unit:"CC",subdivision:"BBB"},{name:"Cyril Gulc",unit:"CC",subdivision:"BBB"},{name:"Joice Hrynczyk",unit:"BB",subdivision:"BBB"},{name:"Jessie Vogl",unit:"FF"},{name:"Bary Lethbrig",unit:"AA",subdivision:"AAA"},{name:"Nelle Groucock",unit:"BB",subdivision:"BBB"},{name:"Winne Cowthard",unit:"CC",subdivision:"BBB"},{name:"Woodie Beckmann",unit:"AA",subdivision:"AAA"},{name:"Ker Bugg",unit:"CC",subdivision:"BBB"},{name:"Newton Biddlestone",unit:"DD",subdivision:"CCC"},{name:"Emily Bernadot",unit:"DD",subdivision:"CCC"},{name:"Walt Girault",unit:"FF"},{name:"Karole Vlasenkov",unit:"AA",subdivision:"AAA"},{name:"Matt Postans",unit:"DD",subdivision:"CCC"},{name:"Chickie Gisbey",unit:"BB",subdivision:"BBB"},{name:"Mason Roobottom",unit:"DD",subdivision:"CCC"},{name:"Bradan Karle",unit:"FF"},{name:"Paulette Suter",unit:"AA",subdivision:"AAA"},{name:"Riobard Roj",unit:"DD",subdivision:"CCC"},{name:"Fae Farlowe",unit:"BB",subdivision:"BBB"},{name:"Geoffrey Kemmett",unit:"EE",subdivision:"CCC"},{name:"Cristine Littlepage",unit:"AA",subdivision:"AAA"},{name:"Hollyanne Takkos",unit:"DD",subdivision:"CCC"},{name:"Glenden Hulcoop",unit:"BB",subdivision:"BBB"},{name:"Kenon Vasyushkhin",unit:"FF"},{name:"Konstance Georgiades",unit:"DD",subdivision:"CCC"},{name:"Karly Humbles",unit:"EE",subdivision:"CCC"},{name:"Joane Marfield",unit:"BB",subdivision:"BBB"},{name:"Fannie Hens",unit:"BB",subdivision:"BBB"},{name:"Fred Padwick",unit:"EE",subdivision:"CCC"},{name:"Riki Laughtisse",unit:"FF"},{name:"Crissy Craw",unit:"FF"},{name:"Nessy Streets",unit:"FF"},{name:"Bartel Catterill",unit:"AA",subdivision:"AAA"},{name:"Aldin Pentony",unit:"EE",subdivision:"CCC"},{name:"Amandy Lorentzen",unit:"DD",subdivision:"CCC"},{name:"Trisha Antoinet",unit:"DD",subdivision:"CCC"},{name:"Gustavo Liley",unit:"DD",subdivision:"CCC"},{name:"Thornie Maly",unit:"DD",subdivision:"CCC"},{name:"Eleni Gutowski",unit:"FF"},{name:"Marcelle Hyam",unit:"EE",subdivision:"CCC"},{name:"Lynna MacNockater",unit:"CC",subdivision:"BBB"},{name:"Othilie Vergo",unit:"CC",subdivision:"BBB"},{name:"Javier Sikorski",unit:"FF"},{name:"Corbet Camber",unit:"FF"},{name:"Marylee Sneath",unit:"DD",subdivision:"CCC"},{name:"Walker Ost",unit:"EE",subdivision:"CCC"},{name:"Aleen Gorman",unit:"BB",subdivision:"BBB"},{name:"Pembroke Kleinzweig",unit:"FF"},{name:"Lavinia Thaxter",unit:"DD",subdivision:"CCC"},{name:"Bette-ann Pepys",unit:"DD",subdivision:"CCC"},{name:"Sharai MacVean",unit:"AA",subdivision:"AAA"},{name:"Natal Tilmouth",unit:"DD",subdivision:"CCC"},{name:"Harrietta Hentzer",unit:"FF"},{name:"Derward Blackaller",unit:"AA",subdivision:"AAA"},{name:"Caspar Driuzzi",unit:"CC",subdivision:"BBB"},{name:"Angeline Nannizzi",unit:"CC",subdivision:"BBB"},{name:"Mauricio Blackley",unit:"FF"},{name:"Jessi Tramel",unit:"EE",subdivision:"CCC"},{name:"Gilligan Butterley",unit:"BB",subdivision:"BBB"},{name:"Earvin Ellingford",unit:"BB",subdivision:"BBB"},{name:"Jeanine Moyce",unit:"DD",subdivision:"CCC"},{name:"Jessie Arangy",unit:"EE",subdivision:"CCC"},{name:"Morley Goady",unit:"AA",subdivision:"AAA"},{name:"Michal Hucks",unit:"BB",subdivision:"BBB"},{name:"Augusto Husthwaite",unit:"AA",subdivision:"AAA"},{name:"Teddy Punt",unit:"BB",subdivision:"BBB"},{name:"Brenden Stockney",unit:"BB",subdivision:"BBB"},{name:"Agathe Smitheram",unit:"FF"},{name:"Robbyn Morrid",unit:"CC",subdivision:"BBB"},{name:"Sheeree Berresford",unit:"CC",subdivision:"BBB"},{name:"Mimi Wallentin",unit:"FF"},{name:"Doralynne Konerding",unit:"BB",subdivision:"BBB"},{name:"Kipper Kegan",unit:"FF"},{name:"Drusilla Hassin",unit:"DD",subdivision:"CCC"},{name:"Lindon Hearne",unit:"DD",subdivision:"CCC"},{name:"Cory Hanna",unit:"EE",subdivision:"CCC"},{name:"Nussy Streets",unit:"DD",subdivision:"CCC"},{name:"Stefano O' Cuolahan",unit:"DD",subdivision:"CCC"},{name:"Sebastiano Janes",unit:"FF"},{name:"Johanna Lilloe",unit:"BB",subdivision:"BBB"},{name:"Walsh Binestead",unit:"CC",subdivision:"BBB"},{name:"Marcel Beatson",unit:"AA",subdivision:"AAA"},{name:"Eduardo Olenchikov",unit:"DD",subdivision:"CCC"},{name:"Tremain Polak",unit:"EE",subdivision:"CCC"},{name:"Barb Sheach",unit:"BB",subdivision:"BBB"},{name:"Constantina Oganesian",unit:"BB",subdivision:"BBB"},{name:"Wynn Gorgen",unit:"EE",subdivision:"CCC"},{name:"Ulysses Harmar",unit:"BB",subdivision:"BBB"},{name:"Tiffy Pitkeathley",unit:"FF"},{name:"Mathilda Mc Cahey",unit:"BB",subdivision:"BBB"},{name:"Benedicto Durn",unit:"AA",subdivision:"AAA"},{name:"Minna Bartczak",unit:"FF"},{name:"Evangeline Stoak",unit:"AA",subdivision:"AAA"},{name:"Germayne Wannop",unit:"EE",subdivision:"CCC"},{name:"Monty Ivie",unit:"DD",subdivision:"CCC"},{name:"Myrtie Swait",unit:"CC",subdivision:"BBB"},{name:"Susanne Hargreaves",unit:"CC",subdivision:"BBB"},{name:"Maura Burhill",unit:"FF"},{name:"Lora Woodford",unit:"EE",subdivision:"CCC"},{name:"Floyd Salvage",unit:"DD",subdivision:"CCC"},{name:"Claudian Martinot",unit:"BB",subdivision:"BBB"},{name:"Dedie Blumer",unit:"AA",subdivision:"AAA"},{name:"Daloris Roskell",unit:"FF"},{name:"Nerty Harmant",unit:"AA",subdivision:"AAA"},{name:"Celinda Lowensohn",unit:"FF"},{name:"Glenn Bearns",unit:"EE",subdivision:"CCC"},{name:"Gwenora Candey",unit:"CC",subdivision:"BBB"},{name:"Waldo Locke",unit:"DD",subdivision:"CCC"},{name:"Kendell Drable",unit:"FF"},{name:"Marchelle Clewer",unit:"CC",subdivision:"BBB"},{name:"Richmound Vinick",unit:"DD",subdivision:"CCC"},{name:"Corbin Milne",unit:"AA",subdivision:"AAA"},{name:"Georgina Cadagan",unit:"DD",subdivision:"CCC"},{name:"Tripp Kingdom",unit:"AA",subdivision:"AAA"},{name:"Ramon D'Souza",unit:"FF"},{name:"Hettie Gluyas",unit:"AA",subdivision:"AAA"},{name:"Valentina Sandle",unit:"EE",subdivision:"CCC"},{name:"Marchelle Haker",unit:"CC",subdivision:"BBB"},{name:"Harlene Lynnett",unit:"FF"},{name:"Joaquin Plumtree",unit:"BB",subdivision:"BBB"},{name:"Carilyn Yate",unit:"EE",subdivision:"CCC"},{name:"Alberta Beswetherick",unit:"EE",subdivision:"CCC"},{name:"Lawry Eyckelbeck",unit:"BB",subdivision:"BBB"},{name:"Kathie Latliff",unit:"FF"},{name:"Batholomew Huyge",unit:"CC",subdivision:"BBB"},{name:"Lucias Graeser",unit:"AA",subdivision:"AAA"},{name:"Herman Levay",unit:"FF"},{name:"Sibel Peterffy",unit:"AA",subdivision:"AAA"},{name:"Urban Lars",unit:"FF"},{name:"Annmaria Ferenczy",unit:"DD",subdivision:"CCC"},{name:"Grethel Sage",unit:"FF"},{name:"Emerson Elsdon",unit:"BB",subdivision:"BBB"},{name:"Melany Noddles",unit:"AA",subdivision:"AAA"},{name:"Angelique Bethell",unit:"FF"},{name:"Tani Yoskowitz",unit:"BB",subdivision:"BBB"},{name:"Clive Sartain",unit:"AA",subdivision:"AAA"},{name:"Cristin Yurkin",unit:"FF"},{name:"Maurie Birkmyre",unit:"AA",subdivision:"AAA"},{name:"Martie Marrows",unit:"EE",subdivision:"CCC"},{name:"Josephine Riddell",unit:"DD",subdivision:"CCC"},{name:"Catherin Brockton",unit:"EE",subdivision:"CCC"},{name:"Marthena Brierley",unit:"EE",subdivision:"CCC"},{name:"Lorianne MacDermand",unit:"BB",subdivision:"BBB"},{name:"Aloin Tisor",unit:"BB",subdivision:"BBB"},{name:"Kennett Ducker",unit:"CC",subdivision:"BBB"},{name:"Zach Baiss",unit:"FF"},{name:"Ronica Sivess",unit:"AA",subdivision:"AAA"},{name:"Concettina Syalvester",unit:"AA",subdivision:"AAA"},{name:"Iorgos Jovanovic",unit:"BB",subdivision:"BBB"},{name:"Susana Dowsey",unit:"BB",subdivision:"BBB"},{name:"Jeromy Yakunikov",unit:"FF"},{name:"Vonny Callendar",unit:"BB",subdivision:"BBB"},{name:"Bill Huggons",unit:"BB",subdivision:"BBB"},{name:"Dacie Klimowicz",unit:"CC",subdivision:"BBB"},{name:"Joline Butt",unit:"FF"}],Z=h({}),le=h(null),L=h(!1),De=p=>{l.updateSubmittal(p)},Ae=()=>{g.value+1<=te.value&&(g.value+=1)},ke=()=>{g.value-1>=1&&(g.value-=1)},Se=p=>{D.value=p},X=({nativeEvent:p,event:i})=>{const k=()=>{Z.value=i,le.value=p.target,requestAnimationFrame(()=>requestAnimationFrame(()=>L.value=!0))};L.value?(L.value=!1,requestAnimationFrame(()=>requestAnimationFrame(()=>k()))):k(),p.stopPropagation()},ee=p=>JSON.stringify(p)==="{}"?"":z(p.submittal),z=(p,i)=>{const S=Y(p).diff(Y(),"day");var x;return S<0?x="red-darken-1":S<7?x="deep-orange-darken-1":S<14?x="orange-darken-1":S<21?x="amber-darken-1":S<28?x="light-green-darken-1":x="green-darken-1",i!=null&&(x="grey-darken-2"),x},te=N(()=>Math.ceil(W.value.length/D.value)),se=N(()=>{console.log("projects:"+JSON.stringify(a.projects));var p=a.projects.filter(function(k){return C.value.includes(k.name)}),i=[];return p.forEach(k=>{k.contracts.forEach(S=>{!i.includes(S.contractID)&&i.push(S.contractID)})}),i}),W=N(()=>{var p=[];return se.value.forEach(i=>{p.push.apply(p,xe(l.submittals,{keywords:`submittalID:-${i}-`}))}),console.log(`Contracts filter: ${JSON.stringify(se.value)}`),Object.entries(s.value).forEach(i=>{const[k,S]=i;S!=null&&(Array.isArray(S)?(p=xe(p,{keywords:`${S.length>0?k+":":""}${JSON.stringify(S).replace("[","").replace("]","")}`,predicate:"OR"}),console.log(`${S.length>0?k+":":""}${JSON.stringify(S).replace("[","").replace("]","")}`)):p=p.filter(x=>x[k]===S))}),console.log("Filtered submittals:"),console.log(p),p}),oe=N(()=>xe(ye,{keywords:`unit:${d.value}`,predicate:"OR"})),he=N(()=>{const p=W.value.map(i=>{const k={};return k.name=`${i.submittalID} ${i.description!=""?"-":""} ${i.description}`,k.start=Y(i.receivedDate).format("YYYY-MM-DD"),k.end=Y(i.needDate).format("YYYY-MM-DD"),k.submittal=i,k});return Ue.sortBy(p,["name","start","end"])});return(p,i)=>{const k=jt,S=Wt,x=Me,Ve=qe,ue=We,et=Ye,tt=Nt("v-calendar");return b(),V("div",null,[t(H,{fluid:""},{default:n(()=>[R(o).submittalSearch?(b(),w(O,{key:0},{default:n(()=>[t(_,{class:"pa-0 ma-0",cols:"12"},{default:n(()=>[t(k)]),_:1})]),_:1})):G("",!0),t(O,null,{default:n(()=>[t(_,null,{default:n(()=>[R(o).submittalView==="cards"?(b(),w(we,{key:0,dark:"",color:"purple darken-3",class:"mb-0 d-flex justify-start"},{default:n(()=>[t(ne,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=u=>v.value=u),clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Filter",class:"pr-1"},null,8,["modelValue"]),$("template",null,[t(fe),t(ce,{modelValue:y,"onUpdate:modelValue":i[1]||(i[1]=u=>y=u),flat:"","solo-inverted":"","hide-details":"",items:P,"prepend-inner-icon":"mdi-sort",label:"Sort by"}),t(fe),t(j,{modelValue:F.value,"onUpdate:modelValue":i[2]||(i[2]=u=>F.value=u),mandatory:""},{default:n(()=>[t(B,{large:"",depressed:"",color:"blue",value:!1},{default:n(()=>[t(I,null,{default:n(()=>i[18]||(i[18]=[f("mdi-arrow-up")])),_:1})]),_:1}),t(B,{large:"",depressed:"",color:"blue",value:!0},{default:n(()=>[t(I,null,{default:n(()=>i[19]||(i[19]=[f("mdi-arrow-down")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})):G("",!0),t(me,{color:"purple darken-2",class:"d-flex flex-wrap justify-start pa-2 mb-1",style:{width:"100%"}},{default:n(()=>[$("div",Fn,[t(j,{modelValue:C.value,"onUpdate:modelValue":i[3]||(i[3]=u=>C.value=u),dense:"","background-color":"primary",dark:"",multiple:""},{default:n(()=>[(b(!0),V(T,null,U(R(Ue).sortBy(R(a).projects,["name"]),u=>(b(),w(B,{color:"purple",key:u.name,value:u.name},{default:n(()=>[f(E(u.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(B,{dense:"",color:"red darken-3",onClick:i[4]||(i[4]=()=>C.value=["A","B","C","D"])},{default:n(()=>i[20]||(i[20]=[f(" All ")])),_:1}),t(B,{dense:"",color:"red darken-3",onClick:i[5]||(i[5]=()=>C.value=[])},{default:n(()=>i[21]||(i[21]=[f(" None ")])),_:1})]),$("div",Pn,[t(H,null,{default:n(()=>[t(O,null,{default:n(()=>[t(j,{modelValue:d.value,"onUpdate:modelValue":i[6]||(i[6]=u=>d.value=u),multiple:"",dense:"","background-color":"primary",dark:""},{default:n(()=>[(b(!0),V(T,null,U(ie.sort(),u=>(b(),w(B,{color:"yellow darken-3",key:u,value:u},{default:n(()=>[f(E(u),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),Q(t(B,{dense:"",color:"red darken-3",onClick:i[7]||(i[7]=()=>s.value.owner=oe.value.map(u=>u.name))},{default:n(()=>i[22]||(i[22]=[f(" All ")])),_:1},512),[[q,d.value!=""]]),Q(t(B,{dense:"",color:"red darken-3",onClick:i[8]||(i[8]=()=>s.value.owner=[])},{default:n(()=>i[23]||(i[23]=[f(" None ")])),_:1},512),[[q,d.value!=""]])]),_:1}),t(O,{class:"d-inline-flex flex-wrap"},{default:n(()=>[t(hn,{modelValue:s.value.owner,"onUpdate:modelValue":i[9]||(i[9]=u=>s.value.owner=u),dense:"","background-color":"primary",multiple:"",dark:""},{default:n(()=>[(b(!0),V(T,null,U(oe.value.sort(function(u,A){return u.name.substring(u.name.indexOf(" ")+1).localeCompare(A.name.substring(A.name.indexOf(" ")+1))}),u=>(b(),w(Vn,{key:u.name,value:u.name},{default:n(({toggle:A})=>[t(B,{color:"grey-darken-3",class:"pa-1 ma-1 text-capitalize","active-color":"green",active:s.value.owner.includes(u.name),small:"",onClick:A},{default:n(()=>[f(E(u.name.substring(u.name.indexOf(" ")+1)),1)]),_:2},1032,["active","onClick"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),$("div",xn,[$("div",En,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.peerReviewNeeded,"onUpdate:modelValue":i[10]||(i[10]=u=>s.value.peerReviewNeeded=u)},{default:n(()=>[t(B,{dense:"",color:"red darken-3",value:!0},{default:n(()=>i[24]||(i[24]=[f(" Peer Needed ")])),_:1}),t(B,{dense:"",color:"red darken-3",value:!1},{default:n(()=>i[25]||(i[25]=[f(" Peer Assigned ")])),_:1})]),_:1},8,["modelValue"])]),$("div",wn,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.nrInformed,"onUpdate:modelValue":i[11]||(i[11]=u=>s.value.nrInformed=u)},{default:n(()=>[t(B,{dense:"",color:"blue darken-3",value:!0},{default:n(()=>i[26]||(i[26]=[f(" NR Informed ")])),_:1}),t(B,{dense:"",color:"blue darken-3",value:!1},{default:n(()=>i[27]||(i[27]=[f(" NR Uninformed ")])),_:1})]),_:1},8,["modelValue"])]),$("div",_n,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.open,"onUpdate:modelValue":i[12]||(i[12]=u=>s.value.open=u)},{default:n(()=>[t(B,{dense:"",color:"orange darken-3",value:!0},{default:n(()=>i[28]||(i[28]=[f(" Open ")])),_:1}),t(B,{dense:"",color:"orange darken-3",value:!1},{default:n(()=>i[29]||(i[29]=[f(" Closed ")])),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1})]),_:1}),t(O,null,{default:n(()=>[t(_,{cols:"12"},{default:n(()=>[R(o).submittalView==="cards"?(b(),w(kn,{key:0,items:W.value,"item-key":"_id","items-per-page":D.value,page:g.value,search:v.value,"sort-by":y,"sort-desc":F.value,"hide-default-footer":""},{default:n(({items:u})=>[t(O,null,{default:n(()=>[(b(!0),V(T,null,U(u,A=>(b(),w(_,{key:A._id,cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[t(S,{submittal:A.raw,color:z(A.raw.needDate,A.raw.dispositionDate)},null,8,["submittal","color"])]),_:2},1024))),128))]),_:2},1024)]),footer:n(()=>[t(O,{class:"mt-2",align:"center",justify:"center"},{default:n(()=>[i[33]||(i[33]=$("span",{class:"grey--text"},"Submittals per page",-1)),t(Ce,{"offset-y":""},{activator:n(({props:u})=>[t(B,Ee({dark:"",text:"",color:"primary",class:"ml-2"},u),{default:n(()=>[f(E(D.value)+" ",1),t(I,null,{default:n(()=>i[30]||(i[30]=[f("mdi-chevron-down")])),_:1})]),_:2},1040)]),default:n(()=>[t(Rt,null,{default:n(()=>[(b(),V(T,null,U(c,(u,A)=>t(Tt,{key:A,onClick:Rn=>Se(u)},{default:n(()=>[t(Ut,null,{default:n(()=>[f(E(u),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),t(fe),$("span",In," Page "+E(g.value)+" of "+E(te.value===0?1:te.value),1),t(B,{fab:"",dark:"",color:"blue darken-3",class:"mr-1",onClick:ke},{default:n(()=>[t(I,null,{default:n(()=>i[31]||(i[31]=[f("mdi-chevron-left")])),_:1})]),_:1}),t(B,{fab:"",dark:"",color:"blue darken-3",class:"ml-1",onClick:Ae},{default:n(()=>[t(I,null,{default:n(()=>i[32]||(i[32]=[f("mdi-chevron-right")])),_:1})]),_:1})]),_:1})]),_:1},8,["items","items-per-page","page","search","sort-desc"])):G("",!0)]),_:1})]),_:1})]),_:1}),R(o).submittalView==="table"?(b(),w(H,{key:0,fluid:"",class:"py-0 my-0"},{default:n(()=>[t(yt,{headers:ge,items:W.value,"item-key":"submittalID","sort-by":["submittalID","owner"],"sort-desc":[!1,!0],"multi-sort":"","show-expand":"",expanded:M.value,"onUpdate:expanded":i[13]||(i[13]=u=>M.value=u)},{"item.submittalID":n(({item:u})=>[t(me,{color:z(u.needDate,u.dispositionDate),rounded:"",class:"d-flex justify-center pa-1 ma-0"},{default:n(()=>[f(E(u.submittalID),1)]),_:2},1032,["color"])]),"item.description":n(u=>[t(ne,{modelValue:u.item.description,"onUpdate:modelValue":A=>u.item.description=A,compact:"",variant:"plain",rules:[Be],label:"Edit","single-line":"",counter:""},null,8,["modelValue","onUpdate:modelValue","rules"])]),"item.receivedDate":n(({item:u})=>[t(x,{dateProp:u.receivedDate,iconProp:"mdi-calendar-today",onUpdateDate:A=>u.receivedDate=A},null,8,["dateProp","onUpdateDate"])]),"item.needDate":n(({item:u})=>[t(x,{dateProp:u.needDate,iconProp:"mdi-calendar-clock",onUpdateDate:A=>u.needDate=A},null,8,["dateProp","onUpdateDate"])]),"item.dispositionDate":n(({item:u})=>[t(x,{dateProp:u.dispositionDate,iconProp:"mdi-calendar-check",onUpdateDate:A=>u.dispositionDate=A},null,8,["dateProp","onUpdateDate"])]),"item.priority":n(({item:u})=>[t(Ve,{submittalProp:u,color:z(u.needDate,u.dispositionDate)},null,8,["submittalProp","color"])]),"item.save":n(({item:u})=>[t(B,{icon:"",onClick:A=>De(u)},{default:n(()=>[t(I,null,{default:n(()=>i[34]||(i[34]=[f("mdi-content-save-edit")])),_:1})]),_:2},1032,["onClick"])]),"expanded-row":n(({columns:u,item:A})=>[$("td",{colspan:u.length,class:"pa-0 ma-0"},[t(ae,{class:"pa-2"},{default:n(()=>i[35]||(i[35]=[f("Stakeholders")])),_:1}),t(ue,{stakeholders:A.stakeholders,view:"table"},null,8,["stakeholders"]),t(ae,{class:"pa-2"},{default:n(()=>i[36]||(i[36]=[f("Violations")])),_:1}),t(et,{violations:A.violations},null,8,["violations"])],8,Mn)]),_:2},1032,["items","expanded"])]),_:1})):G("",!0),R(o).submittalView==="calendar"?(b(),w(H,{key:1,fluid:"",class:"py-0 my-0"},{default:n(()=>[$("template",null,[t(O,{class:"fill-height"},{default:n(()=>[t(_,null,{default:n(()=>[t(me,{height:"64"},{default:n(()=>[t(we,{flat:""},{default:n(()=>[t(B,{fab:"",text:"",small:"",color:"grey darken-2",onClick:i[14]||(i[14]=u=>r.value.prev())},{default:n(()=>[t(I,null,{default:n(()=>i[37]||(i[37]=[f(" mdi-chevron-left ")])),_:1})]),_:1}),$("h1",$n,E(R(Y)(m.value).format("MMMM YYYY")),1),t(B,{fab:"",text:"",small:"",color:"grey darken-2",onClick:i[15]||(i[15]=u=>r.value.next())},{default:n(()=>[t(I,null,{default:n(()=>i[38]||(i[38]=[f(" mdi-chevron-right ")])),_:1})]),_:1})]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(tt,{ref_key:"calendar",ref:r,modelValue:m.value,"onUpdate:modelValue":i[16]||(i[16]=u=>m.value=u),color:"primary",type:"month","show-month-on-first":!1,events:he.value,"event-more":!1,"event-color":ee,"onClick:event":X},null,8,["modelValue","events"]),t(Ce,{modelValue:L.value,"onUpdate:modelValue":i[17]||(i[17]=u=>L.value=u),"close-on-content-click":!1,activator:le.value,"offset-y":"","offset-overflow":"","max-width":"600"},{default:n(()=>[t(S,{submittal:Z.value.submittal.raw,color:ee(Z.value)},null,8,["submittal","color"])]),_:1},8,["modelValue","activator"])]),_:1})]),_:1})]),_:1})])]),_:1})):G("",!0)])}}},Nn=pe(On,[["__scopeId","data-v-af4225bd"]]),Jn={__name:"index",setup(e){return(l,a)=>{const o=Nn;return b(),w(o)}}};export{Jn as default};
