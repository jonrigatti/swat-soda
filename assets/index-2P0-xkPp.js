import{_ as Me,a as ze,b as We,c as ve,u as tt,d as nt,e as at,p as it,f as lt,g as st,h as ot,i as ut,j as rt,k as dt,l as mt,m as vt,n as ct,o as bt,q as ft,r as Ct,s as pt,t as Bt,v as gt}from"./StakeholdersComponent-BOW9aHVK.js";import{S as re,_ as Ce,G as $e,j as N,I as V,o as f,T as G,N as R,O as T,b as t,w as n,P as U,a as _,U as ce,g as c,t as F,v as B,z as xe,W as fe,x as Q,y as q,F as Oe,r as h,R as we,X as yt,Y as ne,Z as I,K as ae,$ as Dt,a0 as de,p as Ne,a1 as Te,h as Re,u as At,m as kt,q as St,M as ht,a2 as Vt,A as Ft,a3 as Ye,a4 as je,a5 as Pt,a6 as Et,a7 as xt,a8 as wt,a9 as _t,aa as It,ab as Mt,ac as $t,H as Y,ad as Ot,d as $,L as j,Q as me,ae as Nt,af as Rt,ag as Tt}from"./index-DLS60IBE.js";import{V as Fe}from"./vue-draggable-next.esm-bundler-B2bAY0Yb.js";import{b as K,a as w,f as be,c as H,V as O,d as ie,g as Ut}from"./VCard-B1OeX_nt.js";import{_ as Gt}from"./lodash-BsvrsjES.js";class Lt{testDir(){return re.get("/server/testdir")}createSDF(l,a){return console.log("SDF creation: "+JSON.stringify(a)),re.put(`/server/createSDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}createPDF(l,a){return console.log("PDF creation: "+JSON.stringify(a)),re.put(`/server/createPDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}mergePDF(l,a){return console.log("PDF merging: "+JSON.stringify(a)),re.put(`/server/mergePDF/${l}`,a).then(function(o){console.log("Then: "+JSON.stringify(a)),console.log(o)})}}const Pe=new Lt,Ht={key:0},Kt={key:1},Jt={__name:"PriorityMenuComponent",props:{submittalProp:{},color:{type:String,default:"cyan-darken-4"},showLabel:{type:Boolean,default:!1}},setup(e){const l=e,a=$e(),o=v=>{a.updateSubmittalPriorities(v)},r=N(()=>{var v=[];return a.projects.forEach(b=>{b.prioritySubmittals.findIndex(d=>d.submittal._id===l.submittalProp._id)!=-1&&v.push(b)}),v}),m=N(()=>{var v=[];return a.projects.forEach(b=>{b.unrankedSubmittals.findIndex(d=>d.submittal._id===l.submittalProp._id)!=-1&&v.push(b)}),v});return(v,b)=>(f(),V("div",null,[Array.isArray(r.value)&&r.value.length||Array.isArray(m.value)&&m.value.length?e.showLabel?(f(),V("div",Kt,"Priority")):G("",!0):(f(),V("div",Ht,"Not assigned to project")),(f(!0),V(R,null,T(r.value,d=>(f(),V("span",{key:d._id},[t(fe,{"offset-y":""},{activator:n(({props:s})=>[t(B,xe({class:"ma-2",ref_for:!0},s),{default:n(()=>[c(F(d.name)+" - "+F(d.prioritySubmittals.findIndex(C=>C.submittal._id===e.submittalProp._id)+1),1)]),_:2},1040)]),default:n(()=>[t(K,null,{default:n(()=>[t(U(Fe),{modelValue:d.prioritySubmittals,"onUpdate:modelValue":s=>d.prioritySubmittals=s,group:d.name+"Submittals",draggable:".item",handle:".handle",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(f(!0),V(R,null,T(d.prioritySubmittals,(s,C)=>(f(),_(w,{key:s.submittal._id,class:ce(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[c(F(C+1)+". "+F(s.submittal.submittalID),1)]),_:2},1032,["class"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024)]),_:2},1024)]))),128)),(f(!0),V(R,null,T(m.value,d=>(f(),V("span",{key:d._id},[t(fe,{"offset-y":""},{activator:n(({props:s})=>[t(B,xe({class:"ma-2",ref_for:!0},s),{default:n(()=>[c(F(d.name)+" - Unranked ",1)]),_:2},1040)]),default:n(()=>[t(K,null,{default:n(()=>[t(U(Fe),{modelValue:d.prioritySubmittals,"onUpdate:modelValue":s=>d.prioritySubmittals=s,group:d.name+"Submittals",draggable:".draggable-item",handle:".handle",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(f(!0),V(R,null,T(d.prioritySubmittals,(s,C)=>(f(),_(w,{key:s.submittal._id,class:ce(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[c(F(C+1)+". "+F(s.submittal.submittalID),1)]),_:2},1032,["class"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024),t(K,null,{default:n(()=>[t(U(Fe),{modelValue:d.unrankedSubmittals,"onUpdate:modelValue":s=>d.unrankedSubmittals=s,group:d.name+"Submittals",draggable:".draggable-item",sort:"true",onChange:s=>o(d),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:n(()=>[(f(!0),V(R,null,T(d.unrankedSubmittals,s=>Q((f(),_(w,{key:s.submittal.submittalID,class:ce(s.submittal._id===e.submittalProp._id?`item bg-${e.color} draggable-item handle`:"item nondraggable-item")},{default:n(()=>[c(F(s.submittal.submittalID),1)]),_:2},1032,["class"])),[[q,s.submittal._id===e.submittalProp._id]])),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024)]),_:2},1024)]))),128))]))}},Qe=Ce(Jt,[["__scopeId","data-v-4b97a0c0"]]),zt={__name:"SubmittalComponent",props:{submittal:{},color:{type:String,default:function(){return"cyan"}}},setup(e){const l=Oe();$e();const a=h(!1);h(!1);const o=d=>{l.updateSubmittal(d)},r=(d,s)=>{l.submittals.find(C=>C._id===filteredSubmittals.value[s]._id).violations.push(d)},m=d=>{Pe.createSDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})},v=d=>{Pe.createPDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})},b=d=>{Pe.mergePDF(d._id,d).then(s=>{console.log(s.data)}).catch(s=>{console.log(s)})};return(d,s)=>{const C=Qe,P=Me,g=ze,D=We;return f(),V("div",null,[t(K,{class:"rounded-t-xl"},{default:n(()=>[t(we,{color:e.color},{default:n(()=>[t(yt,null,{default:n(()=>[c(F(e.submittal.submittalID),1)]),_:1}),t(ne),t(B,{icon:"",onClick:s[0]||(s[0]=y=>a.value=!a.value)},{default:n(()=>[t(I,{class:ce(["toggleUpDown",{rotate:!a.value}])},{default:n(()=>s[11]||(s[11]=[c("mdi-chevron-up")])),_:1},8,["class"])]),_:1})]),_:1},8,["color"]),t(be,null,{default:n(()=>[t(ae,{modelValue:e.submittal.description,"onUpdate:modelValue":s[1]||(s[1]=y=>e.submittal.description=y),modelModifiers:{lazy:!0},label:"Description"},null,8,["modelValue"]),t(H,{class:"pa-0 ma-0"},{default:n(()=>[t(O,null,{default:n(()=>[t(w,null,{default:n(()=>[t(ae,{modelValue:e.submittal.owner,"onUpdate:modelValue":s[2]||(s[2]=y=>e.submittal.owner=y),modelModifiers:{lazy:!0},label:"Owner"},null,8,["modelValue"]),t(C,{submittalProp:e.submittal,color:e.color,showLabel:!0},null,8,["submittalProp","color"])]),_:1}),t(w,null,{default:n(()=>[t(P,{dateProp:e.submittal.receivedDate,labelProp:"Received Date",iconProp:"mdi-calendar-today",onUpdateDate:s[3]||(s[3]=y=>e.submittal.receivedDate=y)},null,8,["dateProp"]),t(P,{dateProp:e.submittal.needDate,labelProp:"Need Date",iconProp:"mdi-calendar-clock",onUpdateDate:s[4]||(s[4]=y=>e.submittal.needDate=y)},null,8,["dateProp"]),t(P,{dateProp:e.submittal.dispositionDate,labelProp:"Disposition Date",iconProp:"mdi-calendar-check",onUpdateDate:s[5]||(s[5]=y=>e.submittal.dispositionDate=y)},null,8,["dateProp"])]),_:1})]),_:1})]),_:1})]),_:1}),a.value?(f(),_(K,{key:0,class:"py-1"},{default:n(()=>[t(ie,{class:"pa-2"},{default:n(()=>s[12]||(s[12]=[c("Stakeholders")])),_:1}),t(be,null,{default:n(()=>[t(g,{stakeholders:e.submittal.stakeholders},null,8,["stakeholders"])]),_:1})]),_:1})):G("",!0),a.value?(f(),_(K,{key:1,class:"py-1"},{default:n(()=>[t(ie,{class:"pa-2"},{default:n(()=>[t(D,{violations:e.submittal.violations},null,8,["violations"])]),_:1}),t(be,null,{default:n(()=>[t(D,{violations:e.submittal.violations,onAddViolation:s[6]||(s[6]=y=>r(y,d.index))},null,8,["violations"])]),_:1})]),_:1})):G("",!0),t(Ut,{class:"grey darken-4"},{default:n(()=>[t(ne),t(B,{icon:"",onClick:s[7]||(s[7]=y=>o(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[13]||(s[13]=[c("mdi-content-save-edit")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[8]||(s[8]=y=>m(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[14]||(s[14]=[c("mdi-archive-plus")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[9]||(s[9]=y=>v(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[15]||(s[15]=[c("mdi-file-pdf-box")])),_:1})]),_:1}),t(B,{icon:"",onClick:s[10]||(s[10]=y=>b(e.submittal))},{default:n(()=>[t(I,null,{default:n(()=>s[16]||(s[16]=[c("mdi-vector-combine")])),_:1})]),_:1})]),_:1})]),_:1})])}}},Wt=Ce(zt,[["__scopeId","data-v-40959497"]]),Yt={__name:"SubmittalSearchComponent",setup(e){const l=Oe();h(!0);const a=h([{id:Math.random()*1e4,key:"",value:"",andOr:"and",operator:"$eq"}]),o=[{text:"Submittal ID",value:{name:"submittalID",type:"String"}},{text:"Submittal description",value:{name:"description",type:"String"}},{text:"Submittal need date",value:{name:"needDate",type:"Date"}},{text:"Submittal received date",value:{name:"receivedDate",type:"Date"}},{text:"Submittal disposition date",value:{name:"dispositionDate",type:"Date"}},{text:"Submittal owner",value:{name:"owner",type:"String"}},{text:"Violation category",value:{name:"violations.category",type:"String"}},{text:"Violation limit",value:{name:"violations.limit",type:"Number"}},{text:"Violation actual",value:{name:"violations.actual",type:"Number"}},{text:"Violation reference",value:{name:"violations.reference",type:"String"}}],r=[{text:"=",value:"$eq"},{text:">",value:"$gt"},{text:">=",value:"$gte"},{text:"<",value:"$lt"},{text:"<=",value:"$lte"},{text:"!=",value:"$ne"}],m=N(()=>a.value.length==0||a.value[a.value.length-1].value!=""),v=()=>{m.value&&a.value.push({id:Math.random()*1e4,key:"",value:"",andOr:"and",operator:"$eq"}),console.log(JSON.stringify(a))},b=s=>{a.value.splice(s,1)},d=()=>{console.log("Search: "+JSON.stringify(a.value)),l.getDynamicQuery(a.value)};return(s,C)=>{const P=Me;return f(),V("div",null,[t(K,null,{default:n(()=>[t(ie,{class:"pink pa-1 ma-0"},{default:n(()=>[t(I,{"x-large":"",color:"pink lighten-4"},{default:n(()=>C[0]||(C[0]=[c("mdi-magnify")])),_:1}),C[1]||(C[1]=c(" Submittal Query "))]),_:1}),t(be,null,{default:n(()=>[t(H,{fluid:""},{default:n(()=>[t(O,null,{default:n(()=>[t(w,null,{default:n(()=>[t(H,{fluid:""},{default:n(()=>[(f(!0),V(R,null,T(a.value,g=>(f(),_(O,{key:g.id,"no-gutters":""},{default:n(()=>[t(w,null,{default:n(()=>[t(ve,{modelValue:g.andOr,"onUpdate:modelValue":D=>g.andOr=D,items:["and","or"],class:"fit pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,null,{default:n(()=>[t(ve,{modelValue:g.operator,"onUpdate:modelValue":D=>g.operator=D,"item-title":"text","item-value":"value",items:r,class:"fit pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"4"},{default:n(()=>[t(ve,{modelValue:g.key,"onUpdate:modelValue":D=>g.key=D,label:"Search field","item-title":"text","item-value":"value",items:o,class:"pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"4"},{default:n(()=>[Q(t(ae,{modelValue:g.value,"onUpdate:modelValue":D=>g.value=D,label:"Value",class:"pa-1 ma-1"},null,8,["modelValue","onUpdate:modelValue"]),[[q,g.key.type!="Date"]]),Q(t(P,{dateProp:g.value,labelProp:"Value",iconProp:"mdi-calendar",onUpdateDate:D=>g.value=D},null,8,["dateProp","onUpdateDate"]),[[q,g.key.type=="Date"]])]),_:2},1024),t(w,null,{default:n(()=>[t(B,{onClick:D=>b(a.value.indexOf(g))},{default:n(()=>[t(I,null,{default:n(()=>C[2]||(C[2]=[c("mdi-minus")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),t(O,null,{default:n(()=>[t(B,{class:"ma-2",onClick:v},{default:n(()=>C[3]||(C[3]=[c("Add field")])),_:1}),Q(t(B,{class:"ma-2 green darken-1",onClick:d},{default:n(()=>C[4]||(C[4]=[c("Search!")])),_:1},512),[[q,m.value]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},jt=Ce(Yt,[["__scopeId","data-v-6bf4177e"]]);var Qt="[object Symbol]",qe=/[\\^$.*+?()[\]{}|]/g,qt=RegExp(qe.source),Zt=typeof de=="object"&&de&&de.Object===Object&&de,Xt=typeof self=="object"&&self&&self.Object===Object&&self,en=Zt||Xt||Function("return this")(),tn=Object.prototype,nn=tn.toString,Ue=en.Symbol,Ge=Ue?Ue.prototype:void 0,Le=Ge?Ge.toString:void 0;function an(e){if(typeof e=="string")return e;if(sn(e))return Le?Le.call(e):"";var l=e+"";return l=="0"&&1/e==-1/0?"-0":l}function ln(e){return!!e&&typeof e=="object"}function sn(e){return typeof e=="symbol"||ln(e)&&nn.call(e)==Qt}function on(e){return e==null?"":an(e)}function un(e){return e=on(e),e&&qt.test(e)?e.replace(qe,"\\$&"):e}var rn=un;const J=Dt(rn);function dn(e,l){return typeof e=="string"?l.checkString(e):typeof e=="number"?l.checkNumber(e):!1}function _e(e,l,a,o){if(typeof e=="object")if(Array.isArray(e)){for(const r of e)if(_e(r,l,a,o))return!0}else for(const r in e){a.push(r);const m=_e(e[r],l,a,o);if(a.pop(),m)return!0}else{if(l.type==="exists")return l.key.test(a.join("."))?!!e:!1;{const r=a.join(".");for(const m of o.ignorePaths)if(m.test(r))return!1;if(o.includePaths){let m=!1;for(const v of o.includePaths)if(v.test(r)){m=!0;break}if(!m)return!1}return l.key&&!l.key.test(r)?!1:dn(e,l)}}return!1}function He(e,l,a,o){if(l.length){let r=!1;for(const m of l)if(_e(e,m,[],o)?!m.negate:m.negate){if(a==="OR")return!0;r=!0}else if(a==="AND")return!1;return r}return!0}function Ie(e,l){const a=[];let o=!1,r=0,m="";for(let v=0;v<e.length;v++){const b=e[v];o?b===m&&(o=!1,m=""):b==='"'||b==="'"?(o=!0,m=b):b.match(l)&&!o&&(a.push(e.slice(r,v).trim()),r=v+1),v===e.length-1&&a.push(e.slice(r).trim())}return a.map(v=>v.startsWith('"')&&v.endsWith('"')||v.startsWith("'")&&v.endsWith("'")?v.slice(1,-1):v).filter(v=>v)}const mn={"<":function(l){const a=Number(l[0]);return o=>o<a},"<=":function(l){const a=Number(l[0]);return o=>o<=a},"=":function(l){const a=l[0].split(",").filter(o=>o).map(Number);return o=>{for(let r=0;r<a.length;r++)if(o===a[r])return!0;return!1}},">=":function(l){const a=Number(l[0]);return o=>o>=a},">":function(l){const a=Number(l[0]);return o=>o>a},"..":function(l){const a=Number(l[0]),o=Number(l[1]);return r=>r>=a&&r<=o}};function Ke(e){const{values:l,operator:a}=vn(e),o=mn[a];if(!o)throw new Error(`unknown operator ${a}`);return o(l)}function vn(e){const l=/^\s*\(?\s*(?<startOperator><=|>=|<|=|>|\.\.\s*)?\s*(?<firstValue>-?\d*\.?\d+)\s*(?:(?<afterDots>\.\.)\s*(?<secondValue>-?\d*\.?\d*))?\s*\)?\s*$/.exec(e);if(!l)return{operator:"=",values:[e]};if(!l.groups)throw new Error("unreachable");const{startOperator:a,firstValue:o,afterDots:r,secondValue:m}=l.groups;let v=a,b=o?[o]:[];return a===".."?v="<=":!a&&r&&!m?v=">=":r&&(v=".."),m&&b.push(m),{values:b,operator:v||"="}}const cn={"<":function(l){return a=>a<l[0]},"<=":function(l){return a=>a<=l[0]},"=":function(l,a){const o=Ie(l[0],",").filter(r=>r).map(r=>new RegExp(`^${J(r)}$`,a));return r=>{for(const m of o)if(m.test(r))return!0;return!1}},"~":function(l,a){const o=Ie(l[0],",").filter(r=>r).map(r=>new RegExp(J(r),a));return r=>{for(const m of o)if(m.test(r))return!0;return!1}},">=":function(l){return a=>a>=l[0]},">":function(l){return a=>a>l[0]},"..":function(l){return a=>a>=l[0]&&a<=l[1]}};function Je(e,l){const{values:a,operator:o}=bn(e),r=cn[o];if(!r)throw new Error(`unreachable unknown operator ${o}`);return r(a,l)}function bn(e){var b;const l=e.split(".."),a=/^\s*\(?(?<operator><=|<|=|>=|>)?\s*(?<value>\S*)\s*\)?$/.exec(l[0]);if(!a)return{operator:"~",values:[e]};if(!a.groups)throw new Error("unreachable");let{operator:o,value:r}=a.groups,m=(b=l[1])==null?void 0:b.trim(),v=[r];return l.length>1&&(o="..",m?r?v.push(m):(v=[m],o="<="):o=">="),{operator:o||"~",values:v}}function fn(e,l={pathAlias:{}}){const{caseSensitive:a,pathAlias:o}=l,r=a?"":"i";let m=!1;e.startsWith("-")&&(m=!0,e=e.substring(1));const v=e.indexOf(":");if(v>-1){const b=e.substring(v+1);if(v>0){const d=e.substring(0,v);return d==="is"?{type:"exists",negate:m,key:new RegExp(`(^|\\.)${J(b)}(\\.|$)`,r)}:{type:"matches",negate:m,key:o[d]?o[d]:new RegExp(`(^|\\.)${J(d)}(\\.|$)`,r),checkNumber:Ke(b),checkString:Je(b,r)}}}return{type:"matches",negate:m,checkNumber:Ke(e),checkString:Je(e,r)}}function Cn(e,l={pathAlias:{}}){return e.map(a=>fn(a,l))}function pn(e,l){const{insensitive:a}=l,o={};for(const[r,m]of Object.entries(e))m instanceof RegExp?o[r]=m:o[r]=new RegExp(`(^|\\.)${J(m)}(\\.|$)`,a);return o}function Ee(e,l={}){let{index:a=!1,predicate:o="AND",ignorePaths:r=[],includePaths:m,pathAlias:v={}}=l;const b=l.limit?l.limit:1/0,d=l.caseSensitive?"":"i";let s=l.keywords||[];const C=pn(v,{insensitive:d}),P=r.map(E=>typeof E=="string"?new RegExp(`(^|\\.)${J(E)}(\\.|$)`,d):E),g=m?m.map(E=>typeof E=="string"?new RegExp(`(^|\\.)${J(E)}(\\.|$)`,d):E):void 0;typeof s=="string"&&(s=Ie(s,/[ \t\r\n]/));const D=Cn(s,{caseSensitive:l.caseSensitive,pathAlias:C});let y=0;if(a){const E=[];for(let M=0;M<e.length&&y<b;M++)He(e[M],D,o,{ignorePaths:P,includePaths:g})&&(y=E.push(M));return E}else{const E=[];for(let M=0;M<e.length&&y<b;M++)He(e[M],D,o,{ignorePaths:P,includePaths:g})&&(y=E.push(e[M]));return E}}const Bn=Ne({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function gn(e,l){const a=e.returnObject?l:Te(l,e.itemValue),o=Te(l,e.itemSelectable,!0);return{type:"item",value:a,selectable:o,raw:l}}function yn(e,l){const a=[];for(const o of l)a.push(gn(e,o));return a}function Dn(e){return{items:N(()=>yn(e,e.items))}}const An=Ne({search:String,loading:Boolean,...je(),...Bn(),...Bt(),...pt(),...Ct({itemsPerPage:5}),...ft(),...bt(),...ct(),...Ye(),...Ft({transition:{component:Pt,hideOnLeave:!0}})},"VDataIterator"),kn=Re()({name:"VDataIterator",props:An(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{slots:a}=l;const o=At(e,"groupBy"),r=kt(e,"search"),{items:m}=Dn(e),{filteredItems:v}=tt(e,m,r,{transform:i=>i.raw}),{sortBy:b,multiSort:d,mustSort:s}=nt(e),{page:C,itemsPerPage:P}=at(e),{toggleSort:g}=vt({sortBy:b,multiSort:d,mustSort:s,page:C}),{sortByWithGroups:D,opened:y,extractRows:E,isGroupOpen:M,toggleGroup:pe}=it({groupBy:o,sortBy:b}),{sortedItems:Be}=lt(e,v,D,{transform:i=>i.raw}),{flatItems:le}=st(Be,o,y),ge=N(()=>le.value.length),{startIndex:Z,stopIndex:se,pageCount:L,prevPage:ye,nextPage:De,setItemsPerPage:Ae,setPage:ke}=ot({page:C,itemsPerPage:P,itemsLength:ge}),{paginatedItems:X}=ut({items:le,startIndex:Z,stopIndex:se,itemsPerPage:P}),ee=N(()=>E(X.value)),{isSelected:z,select:te,selectAll:Se,toggleSelect:W}=rt(e,{allItems:m,currentPage:ee}),{isExpanded:oe,toggleExpand:he}=dt(e);mt({page:C,itemsPerPage:P,sortBy:b,groupBy:o,search:r});const p=N(()=>({page:C.value,itemsPerPage:P.value,sortBy:b.value,pageCount:L.value,toggleSort:g,prevPage:ye,nextPage:De,setPage:ke,setItemsPerPage:Ae,isSelected:z,select:te,selectAll:Se,toggleSelect:W,isExpanded:oe,toggleExpand:he,isGroupOpen:M,toggleGroup:pe,items:ee.value,groupedItems:X.value}));return St(()=>t(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var i,k;return[(i=a.header)==null?void 0:i.call(a,p.value),t(ht,{transition:e.transition},{default:()=>{var S,x;return[e.loading?t(Vt,{key:"loader",name:"v-data-iterator",active:!0},{default:Ve=>{var ue;return(ue=a.loader)==null?void 0:ue.call(a,Ve)}}):t("div",{key:"items"},[X.value.length?(x=a.default)==null?void 0:x.call(a,p.value):(S=a["no-data"])==null?void 0:S.call(a)])]}}),(k=a.footer)==null?void 0:k.call(a,p.value)]}})),{}}}),Ze=Symbol.for("vuetify:v-item-group"),Sn=Ne({...je(),..._t({selectedClass:"v-item--selected"}),...Ye(),...wt()},"VItemGroup"),hn=Re()({name:"VItemGroup",props:Sn(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{themeClasses:o}=Et(e),{isSelected:r,select:m,next:v,prev:b,selected:d}=xt(e,Ze);return()=>t(e.tag,{class:["v-item-group",o.value,e.class],style:e.style},{default:()=>{var s;return[(s=a.default)==null?void 0:s.call(a,{isSelected:r,select:m,next:v,prev:b,selected:d.value})]}})}}),Vn=Re()({name:"VItem",props:It(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const{isSelected:o,select:r,toggle:m,selectedClass:v,value:b,disabled:d}=Mt(e,Ze);return()=>{var s;return(s=a.default)==null?void 0:s.call(a,{isSelected:o.value,selectedClass:v.value,select:r,toggle:m,value:b.value,disabled:d.value})}}}),Fn={class:"pa-1"},Pn={class:"pa-1"},En={class:"d-flex"},xn={class:"pa-1"},wn={class:"pa-1"},_n={class:"pa-1"},In={class:"mr-4 grey--text"},Mn=["colspan"],$n={style:{"user-select":"none"}},On={__name:"SubmittalsComponent",setup(e){const l=Oe(),a=$e(),o=$t(),r=h(null),m=h(Y().format("YYYY-MM-DD").toString()),v=[5,10,20,100],b=h(""),d=h([]),s=h({peerReviewNeeded:null,nrInformed:null,owner:[],open:null}),C=h(["A","B","C","D"]),P=h(!1),g=h(1),D=h(10),y=[{key:h("submittalID"),order:"asc"}],E=[{text:"Submittal ID",value:"submittalID"},{text:"Need Date",value:"needDate"},{text:"Owner",value:"owner"}],M=h([]);h(!1);const pe=p=>p.length<=200||"Input too long!";h({});const Be=[{title:"Submittal",align:"start",key:"submittalID",width:"180px"},{title:"Description",key:"description",width:"40%"},{title:"Received Date",key:"receivedDate",width:"205px"},{title:"Need Date",key:"needDate",width:"205px"},{title:"Disposition Date",key:"dispositionDate",width:"205px"},{title:"Priority",key:"priority"},{title:"Owner",key:"owner"},{title:"",key:"save",width:"1px",sortable:!1},{title:"",key:"data-table-expand",width:"1px"}],le=["AA","BB","CC","DD","EE","FF"],ge=[{name:"Shirley Clemas",unit:"BB",subdivision:"BBB"},{name:"Aubrey Meenehan",unit:"FF"},{name:"Nikolia Dulson",unit:"AA",subdivision:"AAA"},{name:"Claretta Enns",unit:"DD",subdivision:"CCC"},{name:"Ninnetta Kamiyama",unit:"AA",subdivision:"AAA"},{name:"Brenna Pettet",unit:"DD",subdivision:"CCC"},{name:"Clementina Burnham",unit:"BB",subdivision:"BBB"},{name:"Shara Willeson",unit:"DD",subdivision:"CCC"},{name:"Salome Bernardo",unit:"DD",subdivision:"CCC"},{name:"Conrade Dines",unit:"DD",subdivision:"CCC"},{name:"Marillin Foister",unit:"EE",subdivision:"CCC"},{name:"Maggee Silvester",unit:"FF"},{name:"Chery Barhims",unit:"DD",subdivision:"CCC"},{name:"Spence Grishinov",unit:"CC",subdivision:"BBB"},{name:"Dulciana Saberton",unit:"AA",subdivision:"AAA"},{name:"Valina Cleaver",unit:"FF"},{name:"Kenna Hadgkiss",unit:"AA",subdivision:"AAA"},{name:"Shay Rennie",unit:"FF"},{name:"Colin Van der Beek",unit:"EE",subdivision:"CCC"},{name:"Westbrook Rumens",unit:"CC",subdivision:"BBB"},{name:"Renee Schwanden",unit:"FF"},{name:"Euphemia Ciraldo",unit:"EE",subdivision:"CCC"},{name:"Michel Mewett",unit:"FF"},{name:"Aymer Aland",unit:"FF"},{name:"Dennison Corbould",unit:"EE",subdivision:"CCC"},{name:"Christoffer Kryska",unit:"BB",subdivision:"BBB"},{name:"Odo Dykins",unit:"CC",subdivision:"BBB"},{name:"Maurizio Wrates",unit:"DD",subdivision:"CCC"},{name:"Leia Swinburn",unit:"BB",subdivision:"BBB"},{name:"Noam Ewbanck",unit:"DD",subdivision:"CCC"},{name:"Carmine Stuther",unit:"CC",subdivision:"BBB"},{name:"Caesar Jeppensen",unit:"CC",subdivision:"BBB"},{name:"Phillipe Huckle",unit:"CC",subdivision:"BBB"},{name:"Edi Rentelll",unit:"CC",subdivision:"BBB"},{name:"Audi Moughtin",unit:"EE",subdivision:"CCC"},{name:"Gwenora Peascod",unit:"AA",subdivision:"AAA"},{name:"Rockey Colam",unit:"EE",subdivision:"CCC"},{name:"Margie Truggian",unit:"AA",subdivision:"AAA"},{name:"Frederica Siney",unit:"FF"},{name:"Cary Lindwasser",unit:"DD",subdivision:"CCC"},{name:"Robinet Pettiward",unit:"DD",subdivision:"CCC"},{name:"Durand Godspede",unit:"AA",subdivision:"AAA"},{name:"Tommie Dunmuir",unit:"DD",subdivision:"CCC"},{name:"Raimundo Rylatt",unit:"EE",subdivision:"CCC"},{name:"Verney McKechnie",unit:"AA",subdivision:"AAA"},{name:"Ray Binding",unit:"BB",subdivision:"BBB"},{name:"Valery Vedishchev",unit:"FF"},{name:"Trevar Faber",unit:"AA",subdivision:"AAA"},{name:"Allyce O'Giany",unit:"DD",subdivision:"CCC"},{name:"Armstrong Androlli",unit:"FF"},{name:"Kingsly Clymo",unit:"EE",subdivision:"CCC"},{name:"Chris Simister",unit:"CC",subdivision:"BBB"},{name:"Sloan Breagan",unit:"FF"},{name:"Valentina Alston",unit:"CC",subdivision:"BBB"},{name:"Shae Hadfield",unit:"FF"},{name:"Gardie Latta",unit:"CC",subdivision:"BBB"},{name:"Kermit Odney",unit:"BB",subdivision:"BBB"},{name:"Vina Cowpertwait",unit:"BB",subdivision:"BBB"},{name:"Tirrell Nanninini",unit:"BB",subdivision:"BBB"},{name:"Taylor Bench",unit:"FF"},{name:"Cornela Philson",unit:"AA",subdivision:"AAA"},{name:"Rutger Vesque",unit:"CC",subdivision:"BBB"},{name:"Deane Mityakov",unit:"CC",subdivision:"BBB"},{name:"Alexander Bradwell",unit:"EE",subdivision:"CCC"},{name:"Padget Alsobrook",unit:"EE",subdivision:"CCC"},{name:"Gaynor Steart",unit:"EE",subdivision:"CCC"},{name:"Findley Laba",unit:"CC",subdivision:"BBB"},{name:"Benedikt Gothliff",unit:"CC",subdivision:"BBB"},{name:"Fernandina Alcoran",unit:"CC",subdivision:"BBB"},{name:"Stearn Cahalan",unit:"DD",subdivision:"CCC"},{name:"Felicio Rubinfeld",unit:"BB",subdivision:"BBB"},{name:"Remus Alderson",unit:"FF"},{name:"Carrol Kohen",unit:"CC",subdivision:"BBB"},{name:"Jud McParland",unit:"DD",subdivision:"CCC"},{name:"Moore Casetta",unit:"DD",subdivision:"CCC"},{name:"Aileen Cartner",unit:"EE",subdivision:"CCC"},{name:"Lisbeth Melledy",unit:"CC",subdivision:"BBB"},{name:"Andra Kubiak",unit:"EE",subdivision:"CCC"},{name:"Tony Aggs",unit:"CC",subdivision:"BBB"},{name:"Erma Pennycock",unit:"CC",subdivision:"BBB"},{name:"Ailis Sutterby",unit:"CC",subdivision:"BBB"},{name:"Krissy Hayhoe",unit:"DD",subdivision:"CCC"},{name:"Cecil Jarmain",unit:"BB",subdivision:"BBB"},{name:"Datha Gooda",unit:"BB",subdivision:"BBB"},{name:"Donna Dukes",unit:"CC",subdivision:"BBB"},{name:"Cyril Gulc",unit:"CC",subdivision:"BBB"},{name:"Joice Hrynczyk",unit:"BB",subdivision:"BBB"},{name:"Jessie Vogl",unit:"FF"},{name:"Bary Lethbrig",unit:"AA",subdivision:"AAA"},{name:"Nelle Groucock",unit:"BB",subdivision:"BBB"},{name:"Winne Cowthard",unit:"CC",subdivision:"BBB"},{name:"Woodie Beckmann",unit:"AA",subdivision:"AAA"},{name:"Ker Bugg",unit:"CC",subdivision:"BBB"},{name:"Newton Biddlestone",unit:"DD",subdivision:"CCC"},{name:"Emily Bernadot",unit:"DD",subdivision:"CCC"},{name:"Walt Girault",unit:"FF"},{name:"Karole Vlasenkov",unit:"AA",subdivision:"AAA"},{name:"Matt Postans",unit:"DD",subdivision:"CCC"},{name:"Chickie Gisbey",unit:"BB",subdivision:"BBB"},{name:"Mason Roobottom",unit:"DD",subdivision:"CCC"},{name:"Bradan Karle",unit:"FF"},{name:"Paulette Suter",unit:"AA",subdivision:"AAA"},{name:"Riobard Roj",unit:"DD",subdivision:"CCC"},{name:"Fae Farlowe",unit:"BB",subdivision:"BBB"},{name:"Geoffrey Kemmett",unit:"EE",subdivision:"CCC"},{name:"Cristine Littlepage",unit:"AA",subdivision:"AAA"},{name:"Hollyanne Takkos",unit:"DD",subdivision:"CCC"},{name:"Glenden Hulcoop",unit:"BB",subdivision:"BBB"},{name:"Kenon Vasyushkhin",unit:"FF"},{name:"Konstance Georgiades",unit:"DD",subdivision:"CCC"},{name:"Karly Humbles",unit:"EE",subdivision:"CCC"},{name:"Joane Marfield",unit:"BB",subdivision:"BBB"},{name:"Fannie Hens",unit:"BB",subdivision:"BBB"},{name:"Fred Padwick",unit:"EE",subdivision:"CCC"},{name:"Riki Laughtisse",unit:"FF"},{name:"Crissy Craw",unit:"FF"},{name:"Nessy Streets",unit:"FF"},{name:"Bartel Catterill",unit:"AA",subdivision:"AAA"},{name:"Aldin Pentony",unit:"EE",subdivision:"CCC"},{name:"Amandy Lorentzen",unit:"DD",subdivision:"CCC"},{name:"Trisha Antoinet",unit:"DD",subdivision:"CCC"},{name:"Gustavo Liley",unit:"DD",subdivision:"CCC"},{name:"Thornie Maly",unit:"DD",subdivision:"CCC"},{name:"Eleni Gutowski",unit:"FF"},{name:"Marcelle Hyam",unit:"EE",subdivision:"CCC"},{name:"Lynna MacNockater",unit:"CC",subdivision:"BBB"},{name:"Othilie Vergo",unit:"CC",subdivision:"BBB"},{name:"Javier Sikorski",unit:"FF"},{name:"Corbet Camber",unit:"FF"},{name:"Marylee Sneath",unit:"DD",subdivision:"CCC"},{name:"Walker Ost",unit:"EE",subdivision:"CCC"},{name:"Aleen Gorman",unit:"BB",subdivision:"BBB"},{name:"Pembroke Kleinzweig",unit:"FF"},{name:"Lavinia Thaxter",unit:"DD",subdivision:"CCC"},{name:"Bette-ann Pepys",unit:"DD",subdivision:"CCC"},{name:"Sharai MacVean",unit:"AA",subdivision:"AAA"},{name:"Natal Tilmouth",unit:"DD",subdivision:"CCC"},{name:"Harrietta Hentzer",unit:"FF"},{name:"Derward Blackaller",unit:"AA",subdivision:"AAA"},{name:"Caspar Driuzzi",unit:"CC",subdivision:"BBB"},{name:"Angeline Nannizzi",unit:"CC",subdivision:"BBB"},{name:"Mauricio Blackley",unit:"FF"},{name:"Jessi Tramel",unit:"EE",subdivision:"CCC"},{name:"Gilligan Butterley",unit:"BB",subdivision:"BBB"},{name:"Earvin Ellingford",unit:"BB",subdivision:"BBB"},{name:"Jeanine Moyce",unit:"DD",subdivision:"CCC"},{name:"Jessie Arangy",unit:"EE",subdivision:"CCC"},{name:"Morley Goady",unit:"AA",subdivision:"AAA"},{name:"Michal Hucks",unit:"BB",subdivision:"BBB"},{name:"Augusto Husthwaite",unit:"AA",subdivision:"AAA"},{name:"Teddy Punt",unit:"BB",subdivision:"BBB"},{name:"Brenden Stockney",unit:"BB",subdivision:"BBB"},{name:"Agathe Smitheram",unit:"FF"},{name:"Robbyn Morrid",unit:"CC",subdivision:"BBB"},{name:"Sheeree Berresford",unit:"CC",subdivision:"BBB"},{name:"Mimi Wallentin",unit:"FF"},{name:"Doralynne Konerding",unit:"BB",subdivision:"BBB"},{name:"Kipper Kegan",unit:"FF"},{name:"Drusilla Hassin",unit:"DD",subdivision:"CCC"},{name:"Lindon Hearne",unit:"DD",subdivision:"CCC"},{name:"Cory Hanna",unit:"EE",subdivision:"CCC"},{name:"Nussy Streets",unit:"DD",subdivision:"CCC"},{name:"Stefano O' Cuolahan",unit:"DD",subdivision:"CCC"},{name:"Sebastiano Janes",unit:"FF"},{name:"Johanna Lilloe",unit:"BB",subdivision:"BBB"},{name:"Walsh Binestead",unit:"CC",subdivision:"BBB"},{name:"Marcel Beatson",unit:"AA",subdivision:"AAA"},{name:"Eduardo Olenchikov",unit:"DD",subdivision:"CCC"},{name:"Tremain Polak",unit:"EE",subdivision:"CCC"},{name:"Barb Sheach",unit:"BB",subdivision:"BBB"},{name:"Constantina Oganesian",unit:"BB",subdivision:"BBB"},{name:"Wynn Gorgen",unit:"EE",subdivision:"CCC"},{name:"Ulysses Harmar",unit:"BB",subdivision:"BBB"},{name:"Tiffy Pitkeathley",unit:"FF"},{name:"Mathilda Mc Cahey",unit:"BB",subdivision:"BBB"},{name:"Benedicto Durn",unit:"AA",subdivision:"AAA"},{name:"Minna Bartczak",unit:"FF"},{name:"Evangeline Stoak",unit:"AA",subdivision:"AAA"},{name:"Germayne Wannop",unit:"EE",subdivision:"CCC"},{name:"Monty Ivie",unit:"DD",subdivision:"CCC"},{name:"Myrtie Swait",unit:"CC",subdivision:"BBB"},{name:"Susanne Hargreaves",unit:"CC",subdivision:"BBB"},{name:"Maura Burhill",unit:"FF"},{name:"Lora Woodford",unit:"EE",subdivision:"CCC"},{name:"Floyd Salvage",unit:"DD",subdivision:"CCC"},{name:"Claudian Martinot",unit:"BB",subdivision:"BBB"},{name:"Dedie Blumer",unit:"AA",subdivision:"AAA"},{name:"Daloris Roskell",unit:"FF"},{name:"Nerty Harmant",unit:"AA",subdivision:"AAA"},{name:"Celinda Lowensohn",unit:"FF"},{name:"Glenn Bearns",unit:"EE",subdivision:"CCC"},{name:"Gwenora Candey",unit:"CC",subdivision:"BBB"},{name:"Waldo Locke",unit:"DD",subdivision:"CCC"},{name:"Kendell Drable",unit:"FF"},{name:"Marchelle Clewer",unit:"CC",subdivision:"BBB"},{name:"Richmound Vinick",unit:"DD",subdivision:"CCC"},{name:"Corbin Milne",unit:"AA",subdivision:"AAA"},{name:"Georgina Cadagan",unit:"DD",subdivision:"CCC"},{name:"Tripp Kingdom",unit:"AA",subdivision:"AAA"},{name:"Ramon D'Souza",unit:"FF"},{name:"Hettie Gluyas",unit:"AA",subdivision:"AAA"},{name:"Valentina Sandle",unit:"EE",subdivision:"CCC"},{name:"Marchelle Haker",unit:"CC",subdivision:"BBB"},{name:"Harlene Lynnett",unit:"FF"},{name:"Joaquin Plumtree",unit:"BB",subdivision:"BBB"},{name:"Carilyn Yate",unit:"EE",subdivision:"CCC"},{name:"Alberta Beswetherick",unit:"EE",subdivision:"CCC"},{name:"Lawry Eyckelbeck",unit:"BB",subdivision:"BBB"},{name:"Kathie Latliff",unit:"FF"},{name:"Batholomew Huyge",unit:"CC",subdivision:"BBB"},{name:"Lucias Graeser",unit:"AA",subdivision:"AAA"},{name:"Herman Levay",unit:"FF"},{name:"Sibel Peterffy",unit:"AA",subdivision:"AAA"},{name:"Urban Lars",unit:"FF"},{name:"Annmaria Ferenczy",unit:"DD",subdivision:"CCC"},{name:"Grethel Sage",unit:"FF"},{name:"Emerson Elsdon",unit:"BB",subdivision:"BBB"},{name:"Melany Noddles",unit:"AA",subdivision:"AAA"},{name:"Angelique Bethell",unit:"FF"},{name:"Tani Yoskowitz",unit:"BB",subdivision:"BBB"},{name:"Clive Sartain",unit:"AA",subdivision:"AAA"},{name:"Cristin Yurkin",unit:"FF"},{name:"Maurie Birkmyre",unit:"AA",subdivision:"AAA"},{name:"Martie Marrows",unit:"EE",subdivision:"CCC"},{name:"Josephine Riddell",unit:"DD",subdivision:"CCC"},{name:"Catherin Brockton",unit:"EE",subdivision:"CCC"},{name:"Marthena Brierley",unit:"EE",subdivision:"CCC"},{name:"Lorianne MacDermand",unit:"BB",subdivision:"BBB"},{name:"Aloin Tisor",unit:"BB",subdivision:"BBB"},{name:"Kennett Ducker",unit:"CC",subdivision:"BBB"},{name:"Zach Baiss",unit:"FF"},{name:"Ronica Sivess",unit:"AA",subdivision:"AAA"},{name:"Concettina Syalvester",unit:"AA",subdivision:"AAA"},{name:"Iorgos Jovanovic",unit:"BB",subdivision:"BBB"},{name:"Susana Dowsey",unit:"BB",subdivision:"BBB"},{name:"Jeromy Yakunikov",unit:"FF"},{name:"Vonny Callendar",unit:"BB",subdivision:"BBB"},{name:"Bill Huggons",unit:"BB",subdivision:"BBB"},{name:"Dacie Klimowicz",unit:"CC",subdivision:"BBB"},{name:"Joline Butt",unit:"FF"}],Z=h({}),se=h(null),L=h(!1),ye=p=>{l.updateSubmittal(p)},De=()=>{g.value+1<=te.value&&(g.value+=1)},Ae=()=>{g.value-1>=1&&(g.value-=1)},ke=p=>{D.value=p},X=({nativeEvent:p,event:i})=>{const k=()=>{Z.value=i,se.value=p.target,requestAnimationFrame(()=>requestAnimationFrame(()=>L.value=!0))};L.value?(L.value=!1,requestAnimationFrame(()=>requestAnimationFrame(()=>k()))):k(),p.stopPropagation()},ee=p=>JSON.stringify(p)==="{}"?"":z(p.submittal),z=(p,i)=>{const S=Y(p).diff(Y(),"day");var x;return S<0?x="red-darken-1":S<7?x="deep-orange-darken-1":S<14?x="orange-darken-1":S<21?x="amber-darken-1":S<28?x="light-green-darken-1":x="green-darken-1",i!=null&&(x="grey-darken-2"),x},te=N(()=>Math.ceil(W.value.length/D.value)),Se=N(()=>{var p=a.projects.filter(function(k){return C.value.includes(k.name)}),i=[];return p.forEach(k=>{k.contracts.forEach(S=>{!i.includes(S.contractID)&&i.push(S.contractID)})}),i}),W=N(()=>{var p=[];return Se.value.forEach(i=>{p.push.apply(p,Ee(l.submittals,{keywords:`submittalID:-${i}-`}))}),Object.entries(s.value).forEach(i=>{const[k,S]=i;S!=null&&(Array.isArray(S)?p=Ee(p,{keywords:`${S.length>0?k+":":""}${JSON.stringify(S).replace("[","").replace("]","")}`,predicate:"OR"}):p=p.filter(x=>x[k]===S))}),console.log(p),p}),oe=N(()=>Ee(ge,{keywords:`unit:${d.value}`,predicate:"OR"})),he=N(()=>{const p=W.value.map(i=>{const k={};return k.name=`${i.submittalID} ${i.description!=""?"-":""} ${i.description}`,k.start=Y(i.receivedDate).format("YYYY-MM-DD"),k.end=Y(i.needDate).format("YYYY-MM-DD"),k.submittal=i,k});return Gt.sortBy(p,["name","start","end"])});return(p,i)=>{const k=jt,S=Wt,x=Me,Ve=Qe,ue=ze,Xe=We,et=Ot("v-calendar");return f(),V("div",null,[t(H,{fluid:""},{default:n(()=>[U(o).submittalSearch?(f(),_(O,{key:0},{default:n(()=>[t(w,{class:"pa-0 ma-0",cols:"12"},{default:n(()=>[t(k)]),_:1})]),_:1})):G("",!0),t(O,null,{default:n(()=>[t(w,null,{default:n(()=>[U(o).submittalView==="cards"?(f(),_(we,{key:0,dark:"",color:"purple darken-3",class:"mb-0 d-flex justify-start"},{default:n(()=>[t(ae,{modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=u=>b.value=u),clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Filter",class:"pr-1"},null,8,["modelValue"]),$("template",null,[t(ne),t(ve,{modelValue:y,"onUpdate:modelValue":i[1]||(i[1]=u=>y=u),flat:"","solo-inverted":"","hide-details":"",items:E,"prepend-inner-icon":"mdi-sort",label:"Sort by"}),t(ne),t(j,{modelValue:P.value,"onUpdate:modelValue":i[2]||(i[2]=u=>P.value=u),mandatory:""},{default:n(()=>[t(B,{large:"",depressed:"",color:"blue",value:!1},{default:n(()=>[t(I,null,{default:n(()=>i[18]||(i[18]=[c("mdi-arrow-up")])),_:1})]),_:1}),t(B,{large:"",depressed:"",color:"blue",value:!0},{default:n(()=>[t(I,null,{default:n(()=>i[19]||(i[19]=[c("mdi-arrow-down")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})):G("",!0),t(me,{color:"purple darken-2",class:"d-flex flex-wrap justify-start pa-2 mb-1",style:{width:"100%"}},{default:n(()=>[$("div",Fn,[t(j,{modelValue:C.value,"onUpdate:modelValue":i[3]||(i[3]=u=>C.value=u),dense:"","background-color":"primary",dark:"",multiple:""},{default:n(()=>[(f(!0),V(R,null,T(U(a).projects,u=>(f(),_(B,{color:"purple",key:u.name,value:u.name},{default:n(()=>[c(F(u.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(B,{dense:"",color:"red darken-3",onClick:i[4]||(i[4]=()=>C.value=["A","B","C","D"])},{default:n(()=>i[20]||(i[20]=[c(" All ")])),_:1}),t(B,{dense:"",color:"red darken-3",onClick:i[5]||(i[5]=()=>C.value=[])},{default:n(()=>i[21]||(i[21]=[c(" None ")])),_:1})]),$("div",Pn,[t(H,null,{default:n(()=>[t(O,null,{default:n(()=>[t(j,{modelValue:d.value,"onUpdate:modelValue":i[6]||(i[6]=u=>d.value=u),multiple:"",dense:"","background-color":"primary",dark:""},{default:n(()=>[(f(),V(R,null,T(le,u=>t(B,{color:"yellow darken-3",key:u,value:u},{default:n(()=>[c(F(u),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),Q(t(B,{dense:"",color:"red darken-3",onClick:i[7]||(i[7]=()=>s.value.owner=oe.value.map(u=>u.name))},{default:n(()=>i[22]||(i[22]=[c(" All ")])),_:1},512),[[q,d.value!=""]]),Q(t(B,{dense:"",color:"red darken-3",onClick:i[8]||(i[8]=()=>s.value.owner=[])},{default:n(()=>i[23]||(i[23]=[c(" None ")])),_:1},512),[[q,d.value!=""]])]),_:1}),t(O,{class:"d-inline-flex flex-wrap"},{default:n(()=>[t(hn,{modelValue:s.value.owner,"onUpdate:modelValue":i[9]||(i[9]=u=>s.value.owner=u),dense:"","background-color":"primary",multiple:"",dark:""},{default:n(()=>[(f(!0),V(R,null,T(oe.value.sort(function(u,A){return u.name.substring(u.name.indexOf(" ")+1).localeCompare(A.name.substring(A.name.indexOf(" ")+1))}),u=>(f(),_(Vn,{key:u.name,value:u.name},{default:n(({toggle:A})=>[t(B,{color:"grey-darken-3",class:"pa-1 ma-1 text-capitalize","active-color":"green",active:s.value.owner.includes(u.name),small:"",onClick:A},{default:n(()=>[c(F(u.name.substring(u.name.indexOf(" ")+1)),1)]),_:2},1032,["active","onClick"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),$("div",En,[$("div",xn,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.peerReviewNeeded,"onUpdate:modelValue":i[10]||(i[10]=u=>s.value.peerReviewNeeded=u)},{default:n(()=>[t(B,{dense:"",color:"red darken-3",value:!0},{default:n(()=>i[24]||(i[24]=[c(" Peer Needed ")])),_:1}),t(B,{dense:"",color:"red darken-3",value:!1},{default:n(()=>i[25]||(i[25]=[c(" Peer Assigned ")])),_:1})]),_:1},8,["modelValue"])]),$("div",wn,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.nrInformed,"onUpdate:modelValue":i[11]||(i[11]=u=>s.value.nrInformed=u)},{default:n(()=>[t(B,{dense:"",color:"blue darken-3",value:!0},{default:n(()=>i[26]||(i[26]=[c(" NR Informed ")])),_:1}),t(B,{dense:"",color:"blue darken-3",value:!1},{default:n(()=>i[27]||(i[27]=[c(" NR Uninformed ")])),_:1})]),_:1},8,["modelValue"])]),$("div",_n,[t(j,{dense:"","background-color":"primary",exclusive:"",modelValue:s.value.open,"onUpdate:modelValue":i[12]||(i[12]=u=>s.value.open=u)},{default:n(()=>[t(B,{dense:"",color:"orange darken-3",value:!0},{default:n(()=>i[28]||(i[28]=[c(" Open ")])),_:1}),t(B,{dense:"",color:"orange darken-3",value:!1},{default:n(()=>i[29]||(i[29]=[c(" Closed ")])),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1})]),_:1}),t(O,null,{default:n(()=>[t(w,{cols:"12"},{default:n(()=>[U(o).submittalView==="cards"?(f(),_(kn,{key:0,items:W.value,"item-key":"_id","items-per-page":D.value,page:g.value,search:b.value,"sort-by":y,"sort-desc":P.value,"hide-default-footer":""},{default:n(({items:u})=>[t(O,null,{default:n(()=>[(f(!0),V(R,null,T(u,A=>(f(),_(w,{key:A._id,cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[t(S,{submittal:A.raw,color:z(A.raw.needDate,A.raw.dispositionDate)},null,8,["submittal","color"])]),_:2},1024))),128))]),_:2},1024)]),footer:n(()=>[t(O,{class:"mt-2",align:"center",justify:"center"},{default:n(()=>[i[33]||(i[33]=$("span",{class:"grey--text"},"Submittals per page",-1)),t(fe,{"offset-y":""},{activator:n(({props:u})=>[t(B,xe({dark:"",text:"",color:"primary",class:"ml-2"},u),{default:n(()=>[c(F(D.value)+" ",1),t(I,null,{default:n(()=>i[30]||(i[30]=[c("mdi-chevron-down")])),_:1})]),_:2},1040)]),default:n(()=>[t(Nt,null,{default:n(()=>[(f(),V(R,null,T(v,(u,A)=>t(Rt,{key:A,onClick:Rn=>ke(u)},{default:n(()=>[t(Tt,null,{default:n(()=>[c(F(u),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),t(ne),$("span",In," Page "+F(g.value)+" of "+F(te.value===0?1:te.value),1),t(B,{fab:"",dark:"",color:"blue darken-3",class:"mr-1",onClick:Ae},{default:n(()=>[t(I,null,{default:n(()=>i[31]||(i[31]=[c("mdi-chevron-left")])),_:1})]),_:1}),t(B,{fab:"",dark:"",color:"blue darken-3",class:"ml-1",onClick:De},{default:n(()=>[t(I,null,{default:n(()=>i[32]||(i[32]=[c("mdi-chevron-right")])),_:1})]),_:1})]),_:1})]),_:1},8,["items","items-per-page","page","search","sort-desc"])):G("",!0)]),_:1})]),_:1})]),_:1}),U(o).submittalView==="table"?(f(),_(H,{key:0,fluid:"",class:"py-0 my-0"},{default:n(()=>[t(gt,{headers:Be,items:W.value,"item-key":"submittalID","sort-by":["submittalID","owner"],"sort-desc":[!1,!0],"multi-sort":"","show-expand":"",expanded:M.value,"onUpdate:expanded":i[13]||(i[13]=u=>M.value=u)},{"item.submittalID":n(({item:u})=>[t(me,{color:z(u.needDate,u.dispositionDate),rounded:"",class:"d-flex justify-center pa-1 ma-0"},{default:n(()=>[c(F(u.submittalID),1)]),_:2},1032,["color"])]),"item.description":n(u=>[t(ae,{modelValue:u.item.description,"onUpdate:modelValue":A=>u.item.description=A,compact:"",variant:"plain",rules:[pe],label:"Edit","single-line":"",counter:""},null,8,["modelValue","onUpdate:modelValue","rules"])]),"item.receivedDate":n(({item:u})=>[t(x,{dateProp:u.receivedDate,iconProp:"mdi-calendar-today",onUpdateDate:A=>u.receivedDate=A},null,8,["dateProp","onUpdateDate"])]),"item.needDate":n(({item:u})=>[t(x,{dateProp:u.needDate,iconProp:"mdi-calendar-clock",onUpdateDate:A=>u.needDate=A},null,8,["dateProp","onUpdateDate"])]),"item.dispositionDate":n(({item:u})=>[t(x,{dateProp:u.dispositionDate,iconProp:"mdi-calendar-check",onUpdateDate:A=>u.dispositionDate=A},null,8,["dateProp","onUpdateDate"])]),"item.priority":n(({item:u})=>[t(Ve,{submittalProp:u,color:z(u.needDate,u.dispositionDate)},null,8,["submittalProp","color"])]),"item.save":n(({item:u})=>[t(B,{icon:"",onClick:A=>ye(u)},{default:n(()=>[t(I,null,{default:n(()=>i[34]||(i[34]=[c("mdi-content-save-edit")])),_:1})]),_:2},1032,["onClick"])]),"expanded-row":n(({columns:u,item:A})=>[$("td",{colspan:u.length,class:"pa-0 ma-0"},[t(ie,{class:"pa-2"},{default:n(()=>i[35]||(i[35]=[c("Stakeholders")])),_:1}),t(ue,{stakeholders:A.stakeholders,view:"table"},null,8,["stakeholders"]),t(ie,{class:"pa-2"},{default:n(()=>i[36]||(i[36]=[c("Violations")])),_:1}),t(Xe,{violations:A.violations},null,8,["violations"])],8,Mn)]),_:2},1032,["items","expanded"])]),_:1})):G("",!0),U(o).submittalView==="calendar"?(f(),_(H,{key:1,fluid:"",class:"py-0 my-0"},{default:n(()=>[$("template",null,[t(O,{class:"fill-height"},{default:n(()=>[t(w,null,{default:n(()=>[t(me,{height:"64"},{default:n(()=>[t(we,{flat:""},{default:n(()=>[t(B,{fab:"",text:"",small:"",color:"grey darken-2",onClick:i[14]||(i[14]=u=>r.value.prev())},{default:n(()=>[t(I,null,{default:n(()=>i[37]||(i[37]=[c(" mdi-chevron-left ")])),_:1})]),_:1}),$("h1",$n,F(U(Y)(m.value).format("MMMM YYYY")),1),t(B,{fab:"",text:"",small:"",color:"grey darken-2",onClick:i[15]||(i[15]=u=>r.value.next())},{default:n(()=>[t(I,null,{default:n(()=>i[38]||(i[38]=[c(" mdi-chevron-right ")])),_:1})]),_:1})]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(et,{ref_key:"calendar",ref:r,modelValue:m.value,"onUpdate:modelValue":i[16]||(i[16]=u=>m.value=u),color:"primary",type:"month","show-month-on-first":!1,events:he.value,"event-more":!1,"event-color":ee,"onClick:event":X},null,8,["modelValue","events"]),t(fe,{modelValue:L.value,"onUpdate:modelValue":i[17]||(i[17]=u=>L.value=u),"close-on-content-click":!1,activator:se.value,"offset-y":"","offset-overflow":"","max-width":"600"},{default:n(()=>[t(S,{submittal:Z.value.submittal.raw,color:ee(Z.value)},null,8,["submittal","color"])]),_:1},8,["modelValue","activator"])]),_:1})]),_:1})]),_:1})])]),_:1})):G("",!0)])}}},Nn=Ce(On,[["__scopeId","data-v-7dffa57b"]]),Kn={__name:"index",setup(e){return(l,a)=>{const o=Nn;return f(),_(o)}}};export{Kn as default};
