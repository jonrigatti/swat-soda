import{_ as w,F as D,G as N,r as S,I as g,o as n,b as l,w as a,L as $,N as f,O as V,P as d,a as _,v as I,g as u,t as s,R as F,x as z,d as L,K as C,y as R}from"./index-B9CXu6eq.js";import{V as k}from"./vue-draggable-next.esm-bundler-B8fO1UIz.js";import{_ as x}from"./lodash--rCVrWvN.js";import{b as h,d as v,e as b,c as U,V as E,a as B,f as P}from"./VCard-DzAIus_w.js";const G={__name:"ProjectsComponent",setup(T){D();const i=N(),p=S(i.projects.map(c=>c.name)),r=c=>{i.updateSubmittalPriorities(c)};return S(""),(c,o)=>(n(),g("div",null,[l(F,{dark:"",color:"grey darken-4",class:"mb-1"},{default:a(()=>[l($,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),dense:"","background-color":"primary",dark:"",multiple:""},{default:a(()=>[(n(!0),g(f,null,V(d(x).sortBy(d(i).projects,["name"]),e=>(n(),_(I,{key:e.name,value:e.name},{default:a(()=>[u(s(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(U,{fluid:""},{default:a(()=>[(n(!0),g(f,null,V(d(x).sortBy(d(i).projects,["name"]),e=>z((n(),_(h,{rounded:"",key:e.name,class:"ma-2"},{default:a(()=>[l(v,{class:"purple darken-3 pa-4 ma-0"},{default:a(()=>[L("h1",null,s(e.name),1)]),_:2},1024),l(b,{class:"pa-2 ma-2"},{default:a(()=>[u(s(e.prioritySubmittals.length+e.unrankedSubmittals.length)+" submittals ",1)]),_:2},1024),l(U,{fluid:""},{default:a(()=>[l(E,null,{default:a(()=>[l(B,{cols:"6","align-self":"start"},{default:a(()=>[l(b,{class:"py-0"},{default:a(()=>o[1]||(o[1]=[u("Priority Submittals")])),_:1}),l(d(k),{modelValue:e.prioritySubmittals,"onUpdate:modelValue":t=>e.prioritySubmittals=t,group:e.name+"Submittals",draggable:".item",handle:".handle",sort:"true",onChange:t=>r(e),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:a(()=>[(n(!0),g(f,null,V(e.prioritySubmittals,(t,y)=>(n(),_(h,{key:t._id,class:"item draggable-item mb-2"},{default:a(()=>[l(v,{class:"py-1 handle"},{default:a(()=>[u(s(y+1)+". "+s(t.submittal.submittalID),1)]),_:2},1024),l(b,{class:"pt-5 pb-1 nondraggable-item"},{default:a(()=>[u(s(t.submittal.description),1)]),_:2},1024),l(P,{class:"py-0 my-0 nondraggable-item"},{default:a(()=>[l(C,{"single-line":"",modelValue:t.driver,"onUpdate:modelValue":m=>t.driver=m,cols:"8",label:"Priority driver",class:"mx-6",onChange:m=>r(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024),l(B,{cols:"6","align-self":"start"},{default:a(()=>[l(b,{class:"py-0"},{default:a(()=>o[2]||(o[2]=[u("Unranked Submittals")])),_:1}),l(d(k),{modelValue:e.unrankedSubmittals,"onUpdate:modelValue":t=>e.unrankedSubmittals=t,group:e.name+"Submittals",draggable:".item",handle:".handle",sort:"true",onChange:t=>r(e),animation:"250",easing:"cubic-bezier(1, 0, 0, 1)",ghostClass:"ghost"},{default:a(()=>[(n(!0),g(f,null,V(e.unrankedSubmittals,(t,y)=>(n(),_(h,{key:t._id,class:"item draggable-item mb-2"},{default:a(()=>[l(v,{class:"py-1 handle"},{default:a(()=>[u(s(y+1)+". "+s(t.submittal.submittalID),1)]),_:2},1024),l(b,{class:"pt-5 pb-1 nondraggable-item"},{default:a(()=>[u(s(t.submittal.description),1)]),_:2},1024),l(P,{class:"py-0 my-0 nondraggable-item"},{default:a(()=>[l(C,{"single-line":"",modelValue:t.driver,"onUpdate:modelValue":m=>t.driver=m,cols:"8",label:"Priority driver",class:"mx-6",onChange:m=>r(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","group","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[R,p.value.includes(e.name)]])),128))]),_:1})]))}},K=w(G,[["__scopeId","data-v-e9254cbc"]]),J={__name:"index",setup(T){return(i,p)=>{const r=K;return n(),_(r)}}};export{J as default};
